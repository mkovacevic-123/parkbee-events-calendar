<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amsterdam Events Calendar 2025-2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            position: relative;
            overflow-y: auto;
        }

        .container {
            width: 800px;
            height: 1000px;
            background: rgba(20, 20, 40, 0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
            margin: 20px 0;
        }

        .header {
            background: linear-gradient(135deg, 
                rgba(138, 43, 226, 0.5) 0%, 
                rgba(255, 207, 86, 0.7) 40%,
                rgba(255, 127, 80, 0.5) 100%);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: white;
            padding: 20px 30px;
            text-align: center;
            flex-shrink: 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }

        .header h1 {
            font-size: 1.8em;
            font-weight: 700;
            margin-bottom: 5px;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.4);
        }

        .header p {
            font-size: 0.95em;
            font-weight: 400;
            opacity: 0.95;
            text-shadow: 0 1px 8px rgba(0, 0, 0, 0.3);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 207, 86, 0.2);
            flex-shrink: 0;
        }

        .nav button {
            background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(255, 207, 86, 0.2);
            color: #1E2530;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .nav button:hover {
            background: #FFC233;
            transform: translateY(-1px);
        }

        .nav .btn-add {
            background: #ff9800;
            color: white;
        }

        .nav .btn-add:hover {
            background: #fb8c00;
        }

        .current-month {
            font-size: 1.1em;
            font-weight: bold;
            color: #FFCF56;
        }

        .nav-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .calendar {
            padding: 10px;
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            background: transparent;
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 5px;
        }

        .weekday {
            text-align: center;
            font-weight: 600;
            color: #FFCF56;
            padding: 5px;
            font-size: 12px;
        }

        .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            flex: 1;
        }

        .day {
            border: 1px solid rgba(255, 207, 86, 0.2);
            border-radius: 8px;
            padding: 4px;
            background: rgba(30, 37, 48, 0.6);
            transition: all 0.2s ease;
            cursor: pointer;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .day:hover {
            border-color: rgba(255, 207, 86, 0.6);
            background: rgba(30, 37, 48, 0.8);
            transform: translateY(-1px);
        }

        .day.other-month {
            opacity: 0.3;
        }

        .day-number {
            font-weight: bold;
            color: #FFCF56;
            margin-bottom: 2px;
            font-size: 11px;
        }

        .day.today {
            background: rgba(42, 48, 64, 0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-color: #ff9800;
            box-shadow: 0 0 0 2px #ff9800;
        }

        .day.today .day-number {
            color: #ff9800;
        }

        .event-item {
            background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(255, 207, 86, 0.2);
            color: #1E2530;
            padding: 2px 4px;
            margin: 2px 0;
            border-radius: 4px;
            font-size: 0.6em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .event-item:hover {
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(255, 207, 86, 0.4);
            background: #FFC233;
        }

        .event-item.has-comment {
            border-left: 4px solid #dc3545;
        }

        .event-item.has-reminder {
            border-right: 4px solid #28a745;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(42, 48, 64, 0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 2px solid #FFCF56;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: #FFCF56;
            flex: 1;
        }

        .close-btn {
            background: #dc3545;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            line-height: 1;
        }

        .event-details {
            margin: 20px 0;
            padding: 15px;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-radius: 10px;
            border: 1px solid #3d4757;
        }

        .event-details p {
            margin: 8px 0;
            color: #e0e0e0;
        }

        .event-details strong {
            color: #FFCF56;
        }

        .comment-section, .reminder-section {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #3d4757;
            border-radius: 10px;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        }

        .comment-section h3, .reminder-section h3 {
            color: white;
            margin-bottom: 10px;
        }

        textarea {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 2px solid #3d4757;
            border-radius: 8px;
            font-family: inherit;
            resize: vertical;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            color: #e0e0e0;
        }

        textarea:focus {
            border-color: #FFCF56;
            outline: none;
        }

        input[type="date"],
        input[type="time"],
        input[type="text"],
        input[type="number"],
        select {
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            color: #e0e0e0;
            border: 2px solid #3d4757;
            border-radius: 8px;
            padding: 8px;
        }

        input[type="date"]:focus,
        input[type="time"]:focus,
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            border-color: #FFCF56;
            outline: none;
        }

        .btn {
            background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(255, 207, 86, 0.2);
            color: #1E2530;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.2s;
        }

        .btn:hover {
            background: #FFC233;
            transform: translateY(-1px);
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .reminder-list {
            margin-top: 10px;
        }

        .reminder-item {
            background: #d4edda;
            padding: 10px;
            border-radius: 8px;
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .toggle-section {
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .toggle-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 8px 0;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #28a745;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .toggle-label {
            font-size: 14px;
            font-weight: 500;
            color: white;
        }

        .email-tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 2px 8px;
            border-radius: 12px;
            display: inline-block;
            margin: 2px;
            font-size: 13px;
        }

        .email-suggestions {
            position: absolute;
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            max-height: 150px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .email-suggestion-item {
            padding: 8px 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .email-suggestion-item:hover {
            background: #f0f0f0;
        }

        .quick-reminder-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            flex: 1;
            margin-top: 0;
        }

        .quick-reminder-btn:hover {
            background: #fb8c00;
        }

        .btn.reminder-manual {
            flex: 1;
            margin-top: 0;
        }

        .reminder-time {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            align-items: stretch;
        }

        .reminder-time input {
            padding: 8px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
        }

        .completion-btn {
            background: #ffc107;
            color: #333;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-top: 10px;
        }

        .completion-btn:hover {
            background: #ffb300;
        }

        .completion-btn.completed {
            background: #28a745;
            color: white;
        }

        @keyframes firework {
            0% { transform: translate(0, 0) scale(0); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(1); opacity: 0; }
        }

        .firework {
            position: fixed;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            animation: firework 1s ease-out forwards;
            z-index: 9999;
        }

        .multi-select-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-top: 3px solid #FFCF56;
            color: white;
            padding: 15px;
            display: none;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        .multi-select-bar.active {
            display: flex;
        }

        .checkbox-event {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 16px;
            height: 16px;
            cursor: pointer;
            z-index: 10;
        }

        /* Modern dropdown styling */
        #actionsDropdown {
            transition: all 0.3s ease;
        }

        #actionsDropdown:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 207, 86, 0.4);
        }

        #actionsDropdown option {
            background: rgba(30, 37, 48, 0.98);
            color: white;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 500;
            border-radius: 8px;
            transition: all 0.2s;
        }

        #actionsDropdown option:hover {
            background: rgba(255, 207, 86, 0.2);
            color: #FFCF56;
        }

        #actionsDropdown option:checked {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.3) 0%, rgba(255, 207, 86, 0.3) 100%);
        }

        .reminder-card {
            background: #fff;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s;
        }

        .reminder-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .reminder-card.past {
            opacity: 0.6;
            background: #f8f9fa;
        }

        .reminder-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .reminder-date {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        .reminder-badge {
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
        }

        .reminder-badge.completed {
            background: #ffc107;
        }

        .reminder-event-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .reminder-details {
            color: #666;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .reminder-actions {
            margin-top: 12px;
            display: flex;
            gap: 10px;
        }

        .no-reminders {
            text-align: center;
            padding: 40px;
            color: #999;
            font-size: 1.1em;
        }

        .comment-item {
            background: white;
            padding: 10px 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            border-left: 3px solid #FFCF56;
        }

        .comment-item.reply {
            margin-left: 30px;
            border-left-color: #3d4757;
            background: #f5f5f5;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .comment-meta {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .comment-number {
            font-weight: 700;
            color: #1E2530;
            font-size: 0.9em;
        }

        .comment-timestamp {
            font-size: 0.75em;
            color: #999;
        }

        .comment-reply-btn {
            background: transparent;
            border: 1px solid #FFCF56;
            color: #FFCF56;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .comment-reply-btn:hover {
            background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(255, 207, 86, 0.2);
            color: #1E2530;
        }

        .comment-body {
            color: #333;
            line-height: 1.4;
            font-size: 0.9em;
        }

        .comment-tags {
            margin-top: 6px;
            font-size: 0.8em;
        }

        .no-comments {
            text-align: center;
            padding: 20px;
            color: #999;
            font-style: italic;
        }

        .legend {
            display: flex;
            gap: 10px;
            padding: 8px 15px;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-top: 2px solid #FFCF56;
            flex-wrap: wrap;
            font-size: 11px;
            flex-shrink: 0;
            color: #FFCF56;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-box {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        .venue-filters {
            display: flex;
            gap: 6px;
            padding: 8px 15px;
            background: rgba(30, 37, 48, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            flex-wrap: wrap;
            flex-shrink: 0;
            border-bottom: 1px solid #3d4757;
        }

        .venue-filter {
            padding: 4px 10px;
            border: 2px solid #FFCF56;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            background: transparent;
            color: #FFCF56;
            font-size: 11px;
            font-weight: 600;
        }

        .venue-filter.active {
            background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 2px 8px rgba(255, 207, 86, 0.2);
            color: #1E2530;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h1>üêù ParkBee Events Calendar 2026</h1>
                <div id="userProfile" style="display: flex; align-items: center; gap: 8px; background: rgba(30, 37, 48, 0.3); padding: 8px 15px; border-radius: 20px; cursor: pointer;" onclick="changeUser()">
                    <span style="font-size: 1.2em;">üë§</span>
                    <span id="currentUserName" style="font-weight: 600; font-size: 0.9em;"></span>
                </div>
            </div>
        </div>

        <div class="nav">
            <div style="display: flex; gap: 10px; align-items: center;">
                <select id="actionsDropdown" onchange="handleActionDropdown()" style="background: linear-gradient(135deg, rgba(255, 207, 86, 0.95) 0%, rgba(255, 184, 77, 0.95) 100%); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); color: #1a1a1a; border: 1px solid rgba(255, 255, 255, 0.3); padding: 8px 16px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 2px 8px rgba(255, 207, 86, 0.3); transition: all 0.3s ease;">
                    <option value="">üí• Actions</option>
                    <option value="multiselect">üü£ Multi-Select</option>
                    <option value="reminders">üü¢ All Reminders</option>
                    <option value="addevent">üü† Add Event</option>
                    <option value="search">üîç Advanced Search</option>
                    <option value="timeline">üìÖ Timeline View</option>
                    <option value="listview">üìã List View</option>
                    <option value="analytics">üìä Analytics</option>
                    <option value="export">üíæ Export to Excel</option>
                </select>
                <button onclick="previousMonth()">‚Üê Prev</button>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="current-month" id="currentMonth"></div>
                <button onclick="goToToday()" style="background: transparent; border: 1px solid #FFCF56; color: #FFCF56; padding: 4px 12px; font-size: 12px; opacity: 0.7; transition: opacity 0.2s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.7'">Today</button>
            </div>
            <button onclick="nextMonth()">Next ‚Üí</button>
        </div>

        <div class="venue-filters" id="venueFilters"></div>

        <div class="calendar">
            <div class="weekdays">
                <div class="weekday">Sun</div>
                <div class="weekday">Mon</div>
                <div class="weekday">Tue</div>
                <div class="weekday">Wed</div>
                <div class="weekday">Thu</div>
                <div class="weekday">Fri</div>
                <div class="weekday">Sat</div>
            </div>
            <div class="days" id="calendarDays"></div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="background: #ff9800; border: 2px solid #ff9800;"></div>
                <span>Today's Events</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #FFCF56; border-left: 4px solid #dc3545;"></div>
                <span>Has Comment</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #FFCF56; border-right: 4px solid #28a745;"></div>
                <span>Has Reminder</span>
            </div>
        </div>
    </div>

    <div class="modal active" id="userLoginModal" style="z-index: 10000;">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2>üë§ Identify Yourself</h2>
            </div>
            
            <div style="margin: 20px 0;">
                <p style="color: #e0e0e0; margin-bottom: 20px;">
                    Please enter your name to track your comments and actions.
                </p>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Your Name</label>
                    <input type="text" id="userName" placeholder="e.g., Mario Kovacevic" style="width: 100%; padding: 12px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px; font-size: 16px;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Your Email</label>
                    <input type="email" id="userEmail" placeholder="e.g., m.kovacevic@parkbee.com" style="width: 100%; padding: 12px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px; font-size: 16px;">
                </div>
                
                <button class="btn" onclick="saveUserIdentity()" style="width: 100%;">Continue to Calendar</button>
                
                <p style="color: #999; font-size: 0.85em; margin-top: 15px; text-align: center;">
                    Your identity will be saved locally and used to track your contributions.
                </p>
            </div>
        </div>
    </div>

    <div class="multi-select-bar" id="multiSelectBar">
        <div style="display: flex; align-items: center; gap: 15px; flex: 1;">
            <span id="selectedCount" style="color: #FFCF56; font-weight: 600; font-size: 16px;">0 events selected</span>
            <div style="display: flex; gap: 10px; flex: 1; max-width: 600px;">
                <input type="date" id="bulkReminderDate" style="flex: 1; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px; padding: 10px; font-size: 14px;">
                <input type="time" id="bulkReminderTime" style="flex: 1; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px; padding: 10px; font-size: 14px;">
                <button onclick="setBulkReminder()" style="flex: 1; background: #FFCF56; color: #1E2530; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600;">Set Reminder</button>
                <button onclick="setBulkTwoWeekReminder()" style="flex: 1; background: #ff9800; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600;">2 Weeks Before</button>
            </div>
        </div>
        <button onclick="cancelMultiSelect()" style="background: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">Cancel</button>
    </div>

    <div class="modal" id="searchModal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>üîç Advanced Search</h2>
                <button class="close-btn" onclick="closeSearchModal()">√ó</button>
            </div>
            <div style="margin: 20px 0;">
                <input type="text" id="searchQuery" placeholder="Search by event name or artist..." style="width: 100%; padding: 12px; margin-bottom: 15px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px; font-size: 16px;">
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <select id="searchVenue" style="padding: 10px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px;">
                        <option value="">All Venues</option>
                        <option value="AFAS Live">AFAS Live</option>
                        <option value="Ziggo Dome">Ziggo Dome</option>
                        <option value="Johan Cruijff ArenA">Johan Cruijff ArenA</option>
                        <option value="Koninklijk Theater Carr√©">Koninklijk Theater Carr√©</option>
                        <option value="World Forum">World Forum</option>
                    </select>
                    
                    <select id="searchType" style="padding: 10px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px;">
                        <option value="">All Types</option>
                        <option value="Concert">Concert</option>
                        <option value="Comedy">Comedy</option>
                        <option value="Event">Event</option>
                        <option value="Show">Show</option>
                        <option value="Musical">Musical</option>
                    </select>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                    <input type="date" id="searchDateFrom" placeholder="From Date" style="padding: 10px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px;">
                    <input type="date" id="searchDateTo" placeholder="To Date" style="padding: 10px; background: #1E2530; color: #e0e0e0; border: 2px solid #3d4757; border-radius: 8px;">
                </div>
                
                <button class="btn" onclick="performSearch()" style="width: 100%;">Search</button>
                
                <div id="searchResults" style="margin-top: 20px; max-height: 400px; overflow-y: auto;">
                    <!-- Results will appear here -->
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="timelineModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>üìÖ Timeline View</h2>
                <button class="close-btn" onclick="closeTimelineModal()">√ó</button>
            </div>
            <div id="timelineView" style="max-height: 600px; overflow-y: auto; padding: 20px;">
                <!-- Timeline will be populated here -->
            </div>
        </div>
    </div>

    <div class="modal" id="listModal">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <h2>üìã List View</h2>
                <button class="close-btn" onclick="closeListModal()">√ó</button>
            </div>
            <div id="listView" style="max-height: 600px; overflow-y: auto;">
                <!-- List table will be populated here -->
            </div>
        </div>
    </div>

    <div class="modal" id="analyticsModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>üìä Analytics Dashboard</h2>
                <button class="close-btn" onclick="closeAnalyticsModal()">√ó</button>
            </div>
            <div id="analyticsView" style="max-height: 600px; overflow-y: auto; padding: 20px;">
                <!-- Analytics will be populated here -->
            </div>
        </div>
    </div>

    <div class="modal" id="remindersModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2>üìã All Upcoming Reminders</h2>
                <button class="close-btn" onclick="closeRemindersModal()">√ó</button>
            </div>
            
            <div style="margin-bottom: 20px; display: flex; gap: 10px; padding: 15px; background: #1E2530; border-radius: 8px;">
                <button class="btn" onclick="filterReminders('all')" id="filterAll" style="flex: 1; font-size: 14px; padding: 8px;">All</button>
                <button class="btn" onclick="filterReminders('week')" id="filterWeek" style="flex: 1; font-size: 14px; padding: 8px; background: transparent; border: 2px solid #FFCF56; color: #FFCF56;">This Week</button>
                <button class="btn" onclick="filterReminders('month')" id="filterMonth" style="flex: 1; font-size: 14px; padding: 8px; background: transparent; border: 2px solid #FFCF56; color: #FFCF56;">This Month</button>
                <button class="btn" onclick="filterReminders('year')" id="filterYear" style="flex: 1; font-size: 14px; padding: 8px; background: transparent; border: 2px solid #FFCF56; color: #FFCF56;">This Year</button>
            </div>
            
            <div id="allRemindersList" style="max-height: 500px; overflow-y: auto;">
                <!-- Reminders will be populated here -->
            </div>
        </div>
    </div>

    <div class="modal" id="eventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="close-btn" onclick="closeModal()">√ó</button>
            </div>
            
            <div class="event-details" id="eventDetails"></div>

            <div class="reminder-section">
                <h3>‚è∞ Reminders</h3>
                
                <div class="reminder-time">
                    <input type="date" id="reminderDate" style="flex: 1;">
                    <input type="time" id="reminderTime" style="flex: 1;">
                    <button class="btn reminder-manual" onclick="setReminder()">Set Reminder</button>
                    <button class="quick-reminder-btn" onclick="setTwoWeekReminder()">2 Weeks Before</button>
                </div>
                <div class="reminder-list" id="reminderList"></div>
            </div>

            <div class="comment-section" id="completionSection" style="display: none; border-color: #28a745;">
                <h3>‚úÖ Young Ones Staff Status</h3>
                <div class="toggle-row" style="justify-content: flex-start; gap: 10px;">
                    <label class="toggle-switch">
                        <input type="checkbox" id="completionToggle" onchange="toggleCompletion()">
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label">Young Ones Staff Arranged</span>
                </div>
            </div>

            <div class="comment-section">
                <h3>üí¨ Comments & Notes</h3>
                <div id="commentThread" style="max-height: 200px; overflow-y: auto; margin-bottom: 15px; padding: 10px; background: #2a3240; border-radius: 8px;">
                    <!-- Comments thread will appear here -->
                </div>
                <div style="position: relative;">
                    <textarea id="commentText" placeholder="Add comments or tag users with @email@example.com..."></textarea>
                </div>
                <div id="taggedEmails" style="margin-top: 10px;"></div>
                <button class="btn" onclick="saveComment()">Save Comment</button>
            </div>

            <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #3d4757;">
                <button class="btn btn-danger" onclick="deleteEvent()" style="width: 100%;">üóëÔ∏è Delete This Event</button>
            </div>
        </div>
    </div>

    <div class="modal" id="addEventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Event</h2>
                <button class="close-btn" onclick="closeAddEventModal()">√ó</button>
            </div>
            
            <div style="margin: 20px 0;">
                <h3 style="color: #FFCF56; margin-bottom: 15px;">‚ûï Add Single Event</h3>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Event Name</label>
                    <input type="text" id="newEventName" placeholder="e.g., Birthday Party" style="width: 100%; padding: 8px; border: 2px solid #3d4757; border-radius: 8px;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Date</label>
                    <input type="date" id="newEventDate" style="width: 100%; padding: 8px; border: 2px solid #3d4757; border-radius: 8px;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Time (optional)</label>
                    <input type="time" id="newEventTime" style="width: 100%; padding: 8px; border: 2px solid #3d4757; border-radius: 8px;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Venue</label>
                    <select id="newEventVenue" style="width: 100%; padding: 8px; border: 2px solid #3d4757; border-radius: 8px;">
                        <option value="AFAS Live">AFAS Live</option>
                        <option value="Ziggo Dome">Ziggo Dome</option>
                        <option value="Johan Cruijff ArenA">Johan Cruijff ArenA</option>
                        <option value="Koninklijk Theater Carr√©">Koninklijk Theater Carr√©</option>
                        <option value="World Forum">World Forum</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #FFCF56;">Type</label>
                    <input type="text" id="newEventType" placeholder="e.g., Concert, Event, Show" style="width: 100%; padding: 8px; border: 2px solid #3d4757; border-radius: 8px;">
                </div>
                
                <button class="btn" onclick="saveNewEvent()">Add Event</button>
                
                <h3 style="color: #FFCF56; margin-top: 30px; margin-bottom: 15px;">üì§ Or upload events in bulk</h3>
                <div style="padding: 15px; background: #1E2530; border: 2px dashed #FFCF56; border-radius: 8px;">
                    <p style="color: #e0e0e0; font-size: 13px; margin-bottom: 10px;">
                        Upload a CSV file with the following columns:
                    </p>
                    <code style="display: block; background: #2a3240; padding: 10px; border-radius: 4px; color: #FFCF56; font-size: 12px; margin-bottom: 10px;">
                        Subject,Start Date,Start Time,End Date,End Time,All Day Event,Description,Location
                    </code>
                    <p style="color: #999; font-size: 12px; margin-bottom: 10px;">
                        Date format: MM/DD/YYYY | Time format: HH:MM | All Day Event: TRUE or FALSE
                    </p>
                    <input type="file" id="csvUpload" accept=".csv" style="margin-bottom: 10px; color: #e0e0e0;">
                    <button class="btn" onclick="uploadCSV()" style="width: 100%;">Upload CSV Events</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Google Sheets Configuration
        const GOOGLE_SHEET_ID = '1LP5o8IZBcIUr6BaOfU59esLKLqd0nsASNhT_14a401E';
        const GOOGLE_SHEET_URL = `https://docs.google.com/spreadsheets/d/${GOOGLE_SHEET_ID}/edit`;
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyo3dieMQhmg-J62NqWhrojhdnfIB15QiDbpwB4EpvGDVDqnvoY32Lq10lZ-N-Ru9sseg/exec';
        const GOOGLE_CALENDAR_URL = 'https://script.google.com/macros/s/AKfycbwJWKzRaj6Xn-o7P6iBp9h42eKUqW3hdRWGk392dZ5Zbb90O4xTlP9fX9c0gFORcbml/exec';
        
        const events = [{"Subject": "Ajax - Go Ahead Eagles", "Start Date": "01/17/2026", "Start Time": "", "End Date": "", "End Time": "01/17/2026", "All Day Event": "", "Description": "Eredivisie", "Location": "Johan Cruijff ArenA"}, {"Subject": "Ajax - FC Volendam", "Start Date": "01/24/2026", "Start Time": "", "End Date": "", "End Time": "01/24/2026", "All Day Event": "", "Description": "Eredivisie", "Location": "Johan Cruijff ArenA"}, {"Subject": "Ajax - Olympiakos", "Start Date": "01/28/2026", "Start Time": "", "End Date": "", "End Time": "01/28/2026", "All Day Event": "", "Description": "Champions League", "Location": "Johan Cruijff ArenA"}, {"Subject": "Cruijff Premiere", "Start Date": "03/21/2026", "Start Time": "", "End Date": "", "End Time": "03/21/2026", "All Day Event": "", "Description": "Event", "Location": "Johan Cruijff ArenA"}, {"Subject": "Netherlands - Norway", "Start Date": "03/27/2026", "Start Time": "", "End Date": "", "End Time": "03/27/2026", "All Day Event": "", "Description": "Oranje", "Location": "Johan Cruijff ArenA"}, {"Subject": "Ajax - FC Utrecht", "Start Date": "05/10/2026", "Start Time": "", "End Date": "", "End Time": "05/10/2026", "All Day Event": "", "Description": "Eredivisie", "Location": "Johan Cruijff ArenA"}, {"Subject": "Toppers In Concert 2026", "Start Date": "06/19/2026", "Start Time": "", "End Date": "", "End Time": "06/19/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "Toppers In Concert 2026", "Start Date": "06/20/2026", "Start Time": "", "End Date": "", "End Time": "06/20/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "Helene Fischer - 360¬∞ Stadion Tour", "Start Date": "06/30/2026", "Start Time": "", "End Date": "", "End Time": "06/30/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "Luke Combs - My Kinda Saturday Night Tour", "Start Date": "07/11/2026", "Start Time": "", "End Date": "", "End Time": "07/11/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "The Weeknd: After Hours Til Dawn Tour", "Start Date": "07/16/2026", "Start Time": "", "End Date": "", "End Time": "07/16/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "The Weeknd: After Hours Til Dawn Tour", "Start Date": "07/17/2026", "Start Time": "", "End Date": "", "End Time": "07/17/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "The Weeknd: After Hours Til Dawn Tour", "Start Date": "07/18/2026", "Start Time": "", "End Date": "", "End Time": "07/18/2026", "All Day Event": "", "Description": "Concert", "Location": "Johan Cruijff ArenA"}, {"Subject": "Disney in Concert - Follow Your Dreams", "Start Date": "12/27/2025", "Start Time": "15:30", "End Date": "12/27/2025", "End Time": "18:30", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Disney in Concert - Follow Your Dreams", "Start Date": "12/27/2025", "Start Time": "19:45", "End Date": "12/27/2025", "End Time": "22:45", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Disney in Concert - Follow Your Dreams", "Start Date": "12/28/2025", "Start Time": "14:30", "End Date": "12/28/2025", "End Time": "17:30", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Andr√© Rieu - Nieuwjaarsconcert 2026", "Start Date": "01/09/2026", "Start Time": "", "End Date": "", "End Time": "01/09/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Andr√© Rieu - Nieuwjaarsconcert 2026", "Start Date": "01/10/2026", "Start Time": "", "End Date": "", "End Time": "01/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Franky Rizardo - More To Life", "Start Date": "01/16/2026", "Start Time": "", "End Date": "", "End Time": "01/16/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Gearbox Digital - Grand Prix", "Start Date": "01/17/2026", "Start Time": "", "End Date": "", "End Time": "01/17/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "Bankzitters - World Tour", "Start Date": "01/23/2026", "Start Time": "20:30", "End Date": "01/23/2026", "End Time": "23:30", "All Day Event": "FALSE", "Description": "Show", "Location": "Ziggo Dome"}, {"Subject": "Bankzitters - World Tour", "Start Date": "01/24/2026", "Start Time": "14:30", "End Date": "01/24/2026", "End Time": "17:30", "All Day Event": "FALSE", "Description": "Show", "Location": "Ziggo Dome"}, {"Subject": "Bankzitters - World Tour", "Start Date": "01/24/2026", "Start Time": "20:30", "End Date": "01/24/2026", "End Time": "23:30", "All Day Event": "FALSE", "Description": "Show", "Location": "Ziggo Dome"}, {"Subject": "Frans Pollux & Lex Uiting + Metropole Orkest", "Start Date": "01/25/2026", "Start Time": "", "End Date": "", "End Time": "01/25/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "RAYE - THIS TOUR MAY CONTAIN NEW MUSIC", "Start Date": "01/27/2026", "Start Time": "", "End Date": "", "End Time": "01/27/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "RAYE - THIS TOUR MAY CONTAIN NEW MUSIC", "Start Date": "01/28/2026", "Start Time": "", "End Date": "", "End Time": "01/28/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Bankzitters - World Tour", "Start Date": "01/31/2026", "Start Time": "14:30", "End Date": "01/31/2026", "End Time": "17:30", "All Day Event": "FALSE", "Description": "Show", "Location": "Ziggo Dome"}, {"Subject": "Bankzitters - World Tour", "Start Date": "01/31/2026", "Start Time": "20:30", "End Date": "01/31/2026", "End Time": "23:30", "All Day Event": "FALSE", "Description": "Show", "Location": "Ziggo Dome"}, {"Subject": "New Wave - Live in de Ziggo Dome 2026", "Start Date": "02/02/2026", "Start Time": "", "End Date": "", "End Time": "02/02/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "New Wave - Live in de Ziggo Dome 2026", "Start Date": "02/03/2026", "Start Time": "", "End Date": "", "End Time": "02/03/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "New Wave - Live in de Ziggo Dome 2026", "Start Date": "02/04/2026", "Start Time": "", "End Date": "", "End Time": "02/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "New Wave - Live in de Ziggo Dome 2026", "Start Date": "02/05/2026", "Start Time": "", "End Date": "", "End Time": "02/05/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "New Wave - Live in de Ziggo Dome 2026", "Start Date": "02/06/2026", "Start Time": "", "End Date": "", "End Time": "02/06/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Epica & Amaranthe - Arcane Dimensions Tour", "Start Date": "02/07/2026", "Start Time": "", "End Date": "", "End Time": "02/07/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Dr. Jordan B. Peterson", "Start Date": "02/08/2026", "Start Time": "", "End Date": "", "End Time": "02/08/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "Dave - The Boy Who Played the Harp tour", "Start Date": "02/10/2026", "Start Time": "", "End Date": "", "End Time": "02/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Joost Klein", "Start Date": "02/12/2026", "Start Time": "", "End Date": "", "End Time": "02/12/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Freek Vonk Live", "Start Date": "12/22/2025", "Start Time": "13:30", "End Date": "12/22/2025", "End Time": "16:30", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Freek Vonk Live", "Start Date": "12/22/2025", "Start Time": "17:00", "End Date": "12/22/2025", "End Time": "20:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Freek Vonk Live", "Start Date": "12/23/2025", "Start Time": "10:00", "End Date": "12/23/2025", "End Time": "13:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Freek Vonk Live", "Start Date": "12/23/2025", "Start Time": "13:30", "End Date": "12/23/2025", "End Time": "16:30", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Kinderen voor Kinderen", "Start Date": "12/28/2025", "Start Time": "", "End Date": "", "End Time": "12/28/2025", "All Day Event": "", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Kinderen voor Kinderen", "Start Date": "12/29/2025", "Start Time": "13:00", "End Date": "12/29/2025", "End Time": "16:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Kinderen voor Kinderen", "Start Date": "12/29/2025", "Start Time": "16:00", "End Date": "12/29/2025", "End Time": "19:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Kinderen voor Kinderen", "Start Date": "12/30/2025", "Start Time": "13:00", "End Date": "12/30/2025", "End Time": "16:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Kinderen voor Kinderen", "Start Date": "12/30/2025", "Start Time": "16:00", "End Date": "12/30/2025", "End Time": "19:00", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "FYM x Teletech NYE", "Start Date": "12/31/2025", "Start Time": "", "End Date": "", "End Time": "12/31/2025", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "P1Harmony", "Start Date": "01/15/2026", "Start Time": "", "End Date": "", "End Time": "01/15/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Soulwax (Cancelled)", "Start Date": "01/17/2026", "Start Time": "", "End Date": "", "End Time": "01/17/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Halsey", "Start Date": "01/22/2026", "Start Time": "", "End Date": "", "End Time": "01/22/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Holy Priest", "Start Date": "01/24/2026", "Start Time": "", "End Date": "", "End Time": "01/24/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Hans Teeuwen", "Start Date": "01/27/2026", "Start Time": "", "End Date": "", "End Time": "01/27/2026", "All Day Event": "", "Description": "Comedy", "Location": "AFAS Live"}, {"Subject": "Hans Teeuwen", "Start Date": "01/28/2026", "Start Time": "", "End Date": "", "End Time": "01/28/2026", "All Day Event": "", "Description": "Comedy", "Location": "AFAS Live"}, {"Subject": "Biffy Clyro", "Start Date": "01/30/2026", "Start Time": "", "End Date": "", "End Time": "01/30/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Jungle By Night (Cancelled)", "Start Date": "02/05/2026", "Start Time": "", "End Date": "", "End Time": "02/05/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "HAEVN", "Start Date": "02/06/2026", "Start Time": "", "End Date": "", "End Time": "02/06/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Claude", "Start Date": "02/07/2026", "Start Time": "", "End Date": "", "End Time": "02/07/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "HAEVN", "Start Date": "02/08/2026", "Start Time": "", "End Date": "", "End Time": "02/08/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Deftones", "Start Date": "02/10/2026", "Start Time": "", "End Date": "", "End Time": "02/10/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Lorna Shore", "Start Date": "02/12/2026", "Start Time": "", "End Date": "", "End Time": "02/12/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Symphony of CAOS", "Start Date": "02/13/2026", "Start Time": "", "End Date": "", "End Time": "02/13/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "David Byrne", "Start Date": "02/15/2026", "Start Time": "", "End Date": "", "End Time": "02/15/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "David Byrne", "Start Date": "02/16/2026", "Start Time": "", "End Date": "", "End Time": "02/16/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "The Kooks", "Start Date": "02/17/2026", "Start Time": "", "End Date": "", "End Time": "02/17/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Motionless In White", "Start Date": "02/18/2026", "Start Time": "", "End Date": "", "End Time": "02/18/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Avatar", "Start Date": "02/20/2026", "Start Time": "", "End Date": "", "End Time": "02/20/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "White Lies", "Start Date": "02/26/2026", "Start Time": "", "End Date": "", "End Time": "02/26/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Pommelien Thijs", "Start Date": "02/27/2026", "Start Time": "", "End Date": "", "End Time": "02/27/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "ROND√â", "Start Date": "02/28/2026", "Start Time": "", "End Date": "", "End Time": "02/28/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "The Last Dinner Party", "Start Date": "03/01/2026", "Start Time": "", "End Date": "", "End Time": "03/01/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "sombr", "Start Date": "03/02/2026", "Start Time": "", "End Date": "", "End Time": "03/02/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Viagra Boys", "Start Date": "03/04/2026", "Start Time": "", "End Date": "", "End Time": "03/04/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Kesha", "Start Date": "03/07/2026", "Start Time": "", "End Date": "", "End Time": "03/07/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Rene√© Rapp", "Start Date": "03/12/2026", "Start Time": "", "End Date": "", "End Time": "03/12/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Tinlicker", "Start Date": "03/13/2026", "Start Time": "", "End Date": "", "End Time": "03/13/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Worakls Orchestra", "Start Date": "03/14/2026", "Start Time": "", "End Date": "", "End Time": "03/14/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Ken Carson", "Start Date": "03/19/2026", "Start Time": "", "End Date": "", "End Time": "03/19/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "NMIXX", "Start Date": "03/20/2026", "Start Time": "", "End Date": "", "End Time": "03/20/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Tyler Childers", "Start Date": "03/21/2026", "Start Time": "", "End Date": "", "End Time": "03/21/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Barbara Pravi", "Start Date": "03/24/2026", "Start Time": "", "End Date": "", "End Time": "03/24/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Ken Carson", "Start Date": "03/25/2026", "Start Time": "", "End Date": "", "End Time": "03/25/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Feestje op Wielen 2026", "Start Date": "03/27/2026", "Start Time": "", "End Date": "", "End Time": "03/27/2026", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "GUNNA", "Start Date": "03/28/2026", "Start Time": "", "End Date": "", "End Time": "03/28/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "GUNNA", "Start Date": "03/29/2026", "Start Time": "", "End Date": "", "End Time": "03/29/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Eurovision in Concert", "Start Date": "04/11/2026", "Start Time": "", "End Date": "", "End Time": "04/11/2026", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "Josh Groban", "Start Date": "04/12/2026", "Start Time": "", "End Date": "", "End Time": "04/12/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Russo", "Start Date": "04/16/2026", "Start Time": "", "End Date": "", "End Time": "04/16/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Russo", "Start Date": "04/17/2026", "Start Time": "", "End Date": "", "End Time": "04/17/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Skillet", "Start Date": "04/19/2026", "Start Time": "", "End Date": "", "End Time": "04/19/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Big Thief", "Start Date": "04/21/2026", "Start Time": "", "End Date": "", "End Time": "04/21/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Paul Simon", "Start Date": "04/22/2026", "Start Time": "", "End Date": "", "End Time": "04/22/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Paul Simon", "Start Date": "04/24/2026", "Start Time": "", "End Date": "", "End Time": "04/24/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Paul Simon", "Start Date": "04/25/2026", "Start Time": "", "End Date": "", "End Time": "04/25/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Andr√© Hazes", "Start Date": "05/02/2026", "Start Time": "", "End Date": "", "End Time": "05/02/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Mainstreet", "Start Date": "05/08/2026", "Start Time": "", "End Date": "", "End Time": "05/08/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Van Dik Hout & Vrienden Deel 2", "Start Date": "05/09/2026", "Start Time": "", "End Date": "", "End Time": "05/09/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Electro Symphony Vol.2", "Start Date": "05/13/2026", "Start Time": "", "End Date": "", "End Time": "05/13/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "The Dire Straits Experience", "Start Date": "05/14/2026", "Start Time": "", "End Date": "", "End Time": "05/14/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Someone Like Her", "Start Date": "05/16/2026", "Start Time": "", "End Date": "", "End Time": "05/16/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "bbno$", "Start Date": "05/19/2026", "Start Time": "", "End Date": "", "End Time": "05/19/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Rob Lamberti - A Celebration of George Michael", "Start Date": "05/22/2026", "Start Time": "", "End Date": "", "End Time": "05/22/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Gipsy Kings", "Start Date": "05/23/2026", "Start Time": "", "End Date": "", "End Time": "05/23/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Dermot Kennedy", "Start Date": "05/27/2026", "Start Time": "", "End Date": "", "End Time": "05/27/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Miss Montreal", "Start Date": "05/29/2026", "Start Time": "", "End Date": "", "End Time": "05/29/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Typhoon", "Start Date": "05/30/2026", "Start Time": "", "End Date": "", "End Time": "05/30/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Magic Men", "Start Date": "06/04/2026", "Start Time": "", "End Date": "", "End Time": "06/04/2026", "All Day Event": "", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "A Perfect Circle", "Start Date": "06/24/2026", "Start Time": "", "End Date": "", "End Time": "06/24/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Hans Teeuwen", "Start Date": "06/26/2026", "Start Time": "", "End Date": "", "End Time": "06/26/2026", "All Day Event": "", "Description": "Comedy", "Location": "AFAS Live"}, {"Subject": "Hans Teeuwen", "Start Date": "06/27/2026", "Start Time": "", "End Date": "", "End Time": "06/27/2026", "All Day Event": "", "Description": "Comedy", "Location": "AFAS Live"}, {"Subject": "Madness", "Start Date": "07/07/2026", "Start Time": "", "End Date": "", "End Time": "07/07/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Breaking Benjamin", "Start Date": "07/08/2026", "Start Time": "", "End Date": "", "End Time": "07/08/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "James Taylor", "Start Date": "07/21/2026", "Start Time": "", "End Date": "", "End Time": "07/21/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "WORLD PRIDE MUSIC FESTIVAL", "Start Date": "07/31/2026", "Start Time": "", "End Date": "", "End Time": "07/31/2026", "All Day Event": "", "Description": "Festival", "Location": "AFAS Live"}, {"Subject": "WORLD PRIDE MUSIC FESTIVAL", "Start Date": "08/01/2026", "Start Time": "", "End Date": "", "End Time": "08/01/2026", "All Day Event": "", "Description": "Festival", "Location": "AFAS Live"}, {"Subject": "The Waterboys", "Start Date": "09/10/2026", "Start Time": "", "End Date": "", "End Time": "09/10/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Geef mij maar Amsterdam", "Start Date": "09/12/2026", "Start Time": "", "End Date": "", "End Time": "09/12/2026", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "Mega Kids Disco", "Start Date": "09/27/2026", "Start Time": "", "End Date": "", "End Time": "09/27/2026", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "Anastacia", "Start Date": "09/29/2026", "Start Time": "", "End Date": "", "End Time": "09/29/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Synthony No. 2", "Start Date": "10/02/2026", "Start Time": "", "End Date": "", "End Time": "10/02/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Valery Meladze", "Start Date": "10/04/2026", "Start Time": "", "End Date": "", "End Time": "10/04/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Simple Plan", "Start Date": "10/09/2026", "Start Time": "", "End Date": "", "End Time": "10/09/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Racoon", "Start Date": "10/16/2026", "Start Time": "", "End Date": "", "End Time": "10/16/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Racoon", "Start Date": "10/17/2026", "Start Time": "", "End Date": "", "End Time": "10/17/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Brandi Carlile", "Start Date": "10/27/2026", "Start Time": "", "End Date": "", "End Time": "10/27/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Treasure", "Start Date": "10/31/2026", "Start Time": "", "End Date": "", "End Time": "10/31/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Tokio Hotel", "Start Date": "11/04/2026", "Start Time": "", "End Date": "", "End Time": "11/04/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Edsilia Rombley", "Start Date": "11/14/2026", "Start Time": "", "End Date": "", "End Time": "11/14/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Bloc Party + Interpol", "Start Date": "11/17/2026", "Start Time": "", "End Date": "", "End Time": "11/17/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "De Mega Sint Show 2026", "Start Date": "11/25/2026", "Start Time": "13:45", "End Date": "11/25/2026", "End Time": "16:45", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "De Mega Sint Show 2026", "Start Date": "11/25/2026", "Start Time": "16:45", "End Date": "11/25/2026", "End Time": "19:45", "All Day Event": "FALSE", "Description": "Show", "Location": "AFAS Live"}, {"Subject": "Het Grote Ademnood Discobal 2026", "Start Date": "11/28/2026", "Start Time": "", "End Date": "", "End Time": "11/28/2026", "All Day Event": "", "Description": "Event", "Location": "AFAS Live"}, {"Subject": "Sef", "Start Date": "12/10/2026", "Start Time": "", "End Date": "", "End Time": "12/10/2026", "All Day Event": "", "Description": "Concert", "Location": "AFAS Live"}, {"Subject": "Guido Weijers", "Start Date": "12/23/2026", "Start Time": "", "End Date": "", "End Time": "12/23/2026", "All Day Event": "", "Description": "Comedy", "Location": "AFAS Live"}, {"Subject": "Lord of the Rings - Live in Concert", "Start Date": "12/19/2025", "Start Time": "", "End Date": "", "End Time": "12/19/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Lord of the Rings - Live in Concert", "Start Date": "12/20/2025", "Start Time": "", "End Date": "", "End Time": "12/20/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/21/2025", "Start Time": "", "End Date": "", "End Time": "12/21/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/22/2025", "Start Time": "", "End Date": "", "End Time": "12/22/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/23/2025", "Start Time": "", "End Date": "", "End Time": "12/23/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/24/2025", "Start Time": "", "End Date": "", "End Time": "12/24/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/25/2025", "Start Time": "", "End Date": "", "End Time": "12/25/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/26/2025", "Start Time": "", "End Date": "", "End Time": "12/26/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "The Music of HARRY POTTER - Symphony of Magic", "Start Date": "12/27/2025", "Start Time": "", "End Date": "", "End Time": "12/27/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Lord of the Rings - Live in Concert", "Start Date": "12/28/2025", "Start Time": "", "End Date": "", "End Time": "12/28/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Lord of the Rings - Live in Concert", "Start Date": "12/29/2025", "Start Time": "", "End Date": "", "End Time": "12/29/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Opera Gala", "Start Date": "12/30/2025", "Start Time": "", "End Date": "", "End Time": "12/30/2025", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Bohemian Rhapsody 50 jaar in Concert", "Start Date": "01/02/2026", "Start Time": "", "End Date": "", "End Time": "01/02/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Rob Lamberti - A Celebration of George Michael", "Start Date": "01/07/2026", "Start Time": "", "End Date": "", "End Time": "01/07/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/10/2026", "Start Time": "", "End Date": "", "End Time": "01/10/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/11/2026", "Start Time": "", "End Date": "", "End Time": "01/11/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/12/2026", "Start Time": "", "End Date": "", "End Time": "01/12/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/13/2026", "Start Time": "", "End Date": "", "End Time": "01/13/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/14/2026", "Start Time": "", "End Date": "", "End Time": "01/14/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/15/2026", "Start Time": "", "End Date": "", "End Time": "01/15/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "MALLE BABBE - de Rob de Nijs musical", "Start Date": "01/16/2026", "Start Time": "", "End Date": "", "End Time": "01/16/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "Ghassan Yammine chante Aznavour", "Start Date": "01/17/2026", "Start Time": "", "End Date": "", "End Time": "01/17/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Carmina Burana", "Start Date": "02/07/2026", "Start Time": "", "End Date": "", "End Time": "02/07/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Discophonic Orchestra", "Start Date": "02/14/2026", "Start Time": "", "End Date": "", "End Time": "02/14/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Unicorn Live", "Start Date": "02/21/2026", "Start Time": "", "End Date": "", "End Time": "02/21/2026", "All Day Event": "", "Description": "Show", "Location": "World Forum"}, {"Subject": "De Grote Dino Show", "Start Date": "02/21/2026", "Start Time": "", "End Date": "", "End Time": "02/21/2026", "All Day Event": "", "Description": "Show", "Location": "World Forum"}, {"Subject": "PAW Patrol Live! Het Grote Piratenavontuur", "Start Date": "02/28/2026", "Start Time": "", "End Date": "", "End Time": "02/28/2026", "All Day Event": "", "Description": "Show", "Location": "World Forum"}, {"Subject": "PAW Patrol Live! Het Grote Piratenavontuur", "Start Date": "03/01/2026", "Start Time": "", "End Date": "", "End Time": "03/01/2026", "All Day Event": "", "Description": "Show", "Location": "World Forum"}, {"Subject": "Hans Teeuwen - De Laffe Verlosser", "Start Date": "03/06/2026", "Start Time": "", "End Date": "", "End Time": "03/06/2026", "All Day Event": "", "Description": "Comedy", "Location": "World Forum"}, {"Subject": "Hans Teeuwen - De Laffe Verlosser", "Start Date": "03/07/2026", "Start Time": "", "End Date": "", "End Time": "03/07/2026", "All Day Event": "", "Description": "Comedy", "Location": "World Forum"}, {"Subject": "Symphonic Queen for War Child", "Start Date": "03/28/2026", "Start Time": "", "End Date": "", "End Time": "03/28/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "From Studio Ghibli to One Piece", "Start Date": "03/29/2026", "Start Time": "", "End Date": "", "End Time": "03/29/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Hans Teeuwen - De Laffe Verlosser", "Start Date": "04/02/2026", "Start Time": "", "End Date": "", "End Time": "04/02/2026", "All Day Event": "", "Description": "Comedy", "Location": "World Forum"}, {"Subject": "Het Zwanenmeer", "Start Date": "04/04/2026", "Start Time": "", "End Date": "", "End Time": "04/04/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Zwanenmeer", "Start Date": "04/05/2026", "Start Time": "", "End Date": "", "End Time": "04/05/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Chanson", "Start Date": "04/10/2026", "Start Time": "", "End Date": "", "End Time": "04/10/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Chanson", "Start Date": "04/11/2026", "Start Time": "", "End Date": "", "End Time": "04/11/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Chanson", "Start Date": "04/12/2026", "Start Time": "", "End Date": "", "End Time": "04/12/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Emma Kok - Never Lose Hope", "Start Date": "04/18/2026", "Start Time": "", "End Date": "", "End Time": "04/18/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "Beach Boys' Best", "Start Date": "06/26/2026", "Start Time": "", "End Date": "", "End Time": "06/26/2026", "All Day Event": "", "Description": "Concert", "Location": "World Forum"}, {"Subject": "We Will Rock You", "Start Date": "07/15/2026", "Start Time": "", "End Date": "", "End Time": "07/15/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "We Will Rock You", "Start Date": "07/16/2026", "Start Time": "", "End Date": "", "End Time": "07/16/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "We Will Rock You", "Start Date": "07/17/2026", "Start Time": "", "End Date": "", "End Time": "07/17/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "We Will Rock You", "Start Date": "07/18/2026", "Start Time": "", "End Date": "", "End Time": "07/18/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "We Will Rock You", "Start Date": "07/19/2026", "Start Time": "", "End Date": "", "End Time": "07/19/2026", "All Day Event": "", "Description": "Musical", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "08/28/2026", "Start Time": "", "End Date": "", "End Time": "08/28/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "08/29/2026", "Start Time": "", "End Date": "", "End Time": "08/29/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "08/30/2026", "Start Time": "", "End Date": "", "End Time": "08/30/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "08/31/2026", "Start Time": "", "End Date": "", "End Time": "08/31/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/01/2026", "Start Time": "", "End Date": "", "End Time": "09/01/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/02/2026", "Start Time": "", "End Date": "", "End Time": "09/02/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/03/2026", "Start Time": "", "End Date": "", "End Time": "09/03/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/04/2026", "Start Time": "", "End Date": "", "End Time": "09/04/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/05/2026", "Start Time": "", "End Date": "", "End Time": "09/05/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "Het Grootste Zwanenmeer ter Wereld", "Start Date": "09/06/2026", "Start Time": "", "End Date": "", "End Time": "09/06/2026", "All Day Event": "", "Description": "Ballet", "Location": "World Forum"}, {"Subject": "New Year Concert", "Start Date": "01/01/2026", "Start Time": "", "End Date": "", "End Time": "01/01/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "New Year Concert", "Start Date": "01/02/2026", "Start Time": "", "End Date": "", "End Time": "01/02/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "New Year Concert", "Start Date": "01/03/2026", "Start Time": "", "End Date": "", "End Time": "01/03/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "New Year Concert", "Start Date": "01/04/2026", "Start Time": "", "End Date": "", "End Time": "01/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/14/2026", "Start Time": "", "End Date": "", "End Time": "01/14/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/15/2026", "Start Time": "", "End Date": "", "End Time": "01/15/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/16/2026", "Start Time": "", "End Date": "", "End Time": "01/16/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/17/2026", "Start Time": "", "End Date": "", "End Time": "01/17/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/18/2026", "Start Time": "", "End Date": "", "End Time": "01/18/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/19/2026", "Start Time": "", "End Date": "", "End Time": "01/19/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/20/2026", "Start Time": "", "End Date": "", "End Time": "01/20/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/21/2026", "Start Time": "", "End Date": "", "End Time": "01/21/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/22/2026", "Start Time": "", "End Date": "", "End Time": "01/22/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/23/2026", "Start Time": "", "End Date": "", "End Time": "01/23/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/24/2026", "Start Time": "", "End Date": "", "End Time": "01/24/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/25/2026", "Start Time": "", "End Date": "", "End Time": "01/25/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/26/2026", "Start Time": "", "End Date": "", "End Time": "01/26/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/27/2026", "Start Time": "", "End Date": "", "End Time": "01/27/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/28/2026", "Start Time": "", "End Date": "", "End Time": "01/28/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/29/2026", "Start Time": "", "End Date": "", "End Time": "01/29/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/30/2026", "Start Time": "", "End Date": "", "End Time": "01/30/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "01/31/2026", "Start Time": "", "End Date": "", "End Time": "01/31/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "The Last Ship - The musical by Sting", "Start Date": "02/01/2026", "Start Time": "", "End Date": "", "End Time": "02/01/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Kasper van der Laan - De Weg Naar SuccesGeluk", "Start Date": "02/02/2026", "Start Time": "", "End Date": "", "End Time": "02/02/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/04/2026", "Start Time": "", "End Date": "", "End Time": "02/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/05/2026", "Start Time": "", "End Date": "", "End Time": "02/05/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/06/2026", "Start Time": "", "End Date": "", "End Time": "02/06/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/07/2026", "Start Time": "", "End Date": "", "End Time": "02/07/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/08/2026", "Start Time": "", "End Date": "", "End Time": "02/08/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/09/2026", "Start Time": "", "End Date": "", "End Time": "02/09/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/10/2026", "Start Time": "", "End Date": "", "End Time": "02/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/11/2026", "Start Time": "", "End Date": "", "End Time": "02/11/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/12/2026", "Start Time": "", "End Date": "", "End Time": "02/12/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/13/2026", "Start Time": "", "End Date": "", "End Time": "02/13/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/14/2026", "Start Time": "", "End Date": "", "End Time": "02/14/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/15/2026", "Start Time": "", "End Date": "", "End Time": "02/15/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/16/2026", "Start Time": "", "End Date": "", "End Time": "02/16/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/17/2026", "Start Time": "", "End Date": "", "End Time": "02/17/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/18/2026", "Start Time": "", "End Date": "", "End Time": "02/18/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/19/2026", "Start Time": "", "End Date": "", "End Time": "02/19/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/20/2026", "Start Time": "", "End Date": "", "End Time": "02/20/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/21/2026", "Start Time": "", "End Date": "", "End Time": "02/21/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Paul Smith in Concert", "Start Date": "02/22/2026", "Start Time": "", "End Date": "", "End Time": "02/22/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Friendly Fire", "Start Date": "02/24/2026", "Start Time": "", "End Date": "", "End Time": "02/24/2026", "All Day Event": "", "Description": "Event", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Popronde", "Start Date": "02/25/2026", "Start Time": "", "End Date": "", "End Time": "02/25/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - High Class Bitch", "Start Date": "02/26/2026", "Start Time": "19:00", "End Date": "02/26/2026", "End Time": "21:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - Had ik maar nooit zo aardig...", "Start Date": "02/26/2026", "Start Time": "22:00", "End Date": "02/27/2026", "End Time": "00:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - High Class Bitch", "Start Date": "02/27/2026", "Start Time": "19:00", "End Date": "02/27/2026", "End Time": "21:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - Had ik maar nooit zo aardig...", "Start Date": "02/27/2026", "Start Time": "22:00", "End Date": "02/28/2026", "End Time": "00:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - High Class Bitch", "Start Date": "02/28/2026", "Start Time": "19:00", "End Date": "02/28/2026", "End Time": "21:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Arends - Had ik maar nooit zo aardig...", "Start Date": "02/28/2026", "Start Time": "22:00", "End Date": "03/01/2026", "End Time": "00:00", "All Day Event": "FALSE", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Jochem Myjer - Net alsof", "Start Date": "03/04/2026", "Start Time": "", "End Date": "", "End Time": "03/04/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Jochem Myjer - Net alsof", "Start Date": "03/05/2026", "Start Time": "", "End Date": "", "End Time": "03/05/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Daniel Sloss", "Start Date": "03/07/2026", "Start Time": "", "End Date": "", "End Time": "03/07/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Jochem Myjer - Net alsof", "Start Date": "03/10/2026", "Start Time": "", "End Date": "", "End Time": "03/10/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Jochem Myjer - Net alsof", "Start Date": "03/11/2026", "Start Time": "", "End Date": "", "End Time": "03/11/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Ronald Goedemondt - Mijn lieve achterdocht", "Start Date": "03/12/2026", "Start Time": "", "End Date": "", "End Time": "03/12/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/17/2026", "Start Time": "", "End Date": "", "End Time": "03/17/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/18/2026", "Start Time": "", "End Date": "", "End Time": "03/18/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/19/2026", "Start Time": "", "End Date": "", "End Time": "03/19/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/20/2026", "Start Time": "", "End Date": "", "End Time": "03/20/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/21/2026", "Start Time": "", "End Date": "", "End Time": "03/21/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "SIX the Musical", "Start Date": "03/22/2026", "Start Time": "", "End Date": "", "End Time": "03/22/2026", "All Day Event": "", "Description": "Musical", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Soundos - Witte Ruis", "Start Date": "04/08/2026", "Start Time": "", "End Date": "", "End Time": "04/08/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Hussam Al Rassam", "Start Date": "04/10/2026", "Start Time": "", "End Date": "", "End Time": "04/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Soundos - Witte Ruis", "Start Date": "04/11/2026", "Start Time": "", "End Date": "", "End Time": "04/11/2026", "All Day Event": "", "Description": "Comedy", "Location": "Koninklijk Theater Carr√©"}, {"Subject": "Jochem Myjer - Net alsof", "Start Date": "04/21/2026", "Start Time": "", "End Date": "", "End Time": "04/21/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Alter Bridge - What Lies Within Tour", "Start Date": "02/22/2026", "Start Time": "", "End Date": "", "End Time": "02/22/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Jason Derulo - THE LAST DANCE WORLD TOUR", "Start Date": "02/23/2026", "Start Time": "", "End Date": "", "End Time": "02/23/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Jelle Cleymans & Koen Wauters - Samen", "Start Date": "03/13/2026", "Start Time": "", "End Date": "", "End Time": "03/13/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Jelle Cleymans & Koen Wauters - Samen", "Start Date": "03/14/2026", "Start Time": "", "End Date": "", "End Time": "03/14/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Jelle Cleymans & Koen Wauters - Samen", "Start Date": "03/15/2026", "Start Time": "", "End Date": "", "End Time": "03/15/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Snelle Live 2026", "Start Date": "03/19/2026", "Start Time": "", "End Date": "", "End Time": "03/19/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Racoon Live in de Ziggo Dome 2026", "Start Date": "03/26/2026", "Start Time": "", "End Date": "", "End Time": "03/26/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Racoon Live in de Ziggo Dome 2026", "Start Date": "03/27/2026", "Start Time": "", "End Date": "", "End Time": "03/27/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Racoon Live in de Ziggo Dome 2026", "Start Date": "03/28/2026", "Start Time": "", "End Date": "", "End Time": "03/28/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Ladies of Soul Live in de Ziggo Dome 2026", "Start Date": "04/04/2026", "Start Time": "", "End Date": "", "End Time": "04/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Alex Warren - Presents: Little Orphan Alex Live", "Start Date": "04/06/2026", "Start Time": "", "End Date": "", "End Time": "04/06/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Alex Warren - Presents: Little Orphan Alex Live", "Start Date": "04/07/2026", "Start Time": "", "End Date": "", "End Time": "04/07/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "5 Seconds of Summer - Everyone's a Star World Tour", "Start Date": "04/10/2026", "Start Time": "", "End Date": "", "End Time": "04/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Matt Rife - Stay Golden World Tour", "Start Date": "04/11/2026", "Start Time": "", "End Date": "", "End Time": "04/11/2026", "All Day Event": "", "Description": "Comedy", "Location": "Ziggo Dome"}, {"Subject": "The Tribute - Live in Concert", "Start Date": "04/16/2026", "Start Time": "", "End Date": "", "End Time": "04/16/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "The Tribute - Live in Concert", "Start Date": "04/18/2026", "Start Time": "", "End Date": "", "End Time": "04/18/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "The Tribute - Live in Concert", "Start Date": "04/19/2026", "Start Time": "", "End Date": "", "End Time": "04/19/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Louis Tomlinson - How Did We Get Here? World Tour", "Start Date": "04/20/2026", "Start Time": "", "End Date": "", "End Time": "04/20/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "ROSAL√çA - LUX TOUR 2026", "Start Date": "04/22/2026", "Start Time": "", "End Date": "", "End Time": "04/22/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "ROSAL√çA - LUX TOUR 2026", "Start Date": "04/23/2026", "Start Time": "", "End Date": "", "End Time": "04/23/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Eric Clapton - Live in de Ziggo Dome 2026", "Start Date": "04/24/2026", "Start Time": "", "End Date": "", "End Time": "04/24/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Pentatonix Live in de Ziggo Dome 2026", "Start Date": "04/29/2026", "Start Time": "", "End Date": "", "End Time": "04/29/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Tame Impala - Deadbeat Tour", "Start Date": "05/04/2026", "Start Time": "", "End Date": "", "End Time": "05/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "R√õF√õS D√ú SOL - R√õF√õS DU SOL EUROPE '26", "Start Date": "05/06/2026", "Start Time": "", "End Date": "", "End Time": "05/06/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "R√õF√õS D√ú SOL - R√õF√õS DU SOL EUROPE '26", "Start Date": "05/07/2026", "Start Time": "", "End Date": "", "End Time": "05/07/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Kilo Loco Live in de Ziggo Dome 2026", "Start Date": "05/08/2026", "Start Time": "", "End Date": "", "End Time": "05/08/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Olivia Dean - The Art of Loving Live", "Start Date": "05/09/2026", "Start Time": "", "End Date": "", "End Time": "05/09/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Conan Gray - Wishbone World Tour", "Start Date": "05/14/2026", "Start Time": "", "End Date": "", "End Time": "05/14/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Zucchero - Overdose d'amore GOLD", "Start Date": "05/29/2026", "Start Time": "", "End Date": "", "End Time": "05/29/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "TWICE - <THIS IS FOR> WORLD TOUR IN AMSTERDAM", "Start Date": "05/30/2026", "Start Time": "", "End Date": "", "End Time": "05/30/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "TWICE - <THIS IS FOR> WORLD TOUR IN AMSTERDAM", "Start Date": "05/31/2026", "Start Time": "", "End Date": "", "End Time": "05/31/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "FKA twigs - FKA twigs // BODY HIGH TOUR // AMSTERDAM", "Start Date": "06/06/2026", "Start Time": "", "End Date": "", "End Time": "06/06/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Iron Maiden - Run For Your Lives World Tour 2026", "Start Date": "06/11/2026", "Start Time": "", "End Date": "", "End Time": "06/11/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Doja Cat - Ma Vie World Tour", "Start Date": "06/12/2026", "Start Time": "", "End Date": "", "End Time": "06/12/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Guns N' Roses - World Tour 2026", "Start Date": "06/18/2026", "Start Time": "", "End Date": "", "End Time": "06/18/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Guns N' Roses - World Tour 2026", "Start Date": "06/20/2026", "Start Time": "", "End Date": "", "End Time": "06/20/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Roxy Dekker Live in de Ziggo Dome", "Start Date": "09/03/2026", "Start Time": "", "End Date": "", "End Time": "09/03/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Roxy Dekker Live in de Ziggo Dome", "Start Date": "09/04/2026", "Start Time": "", "End Date": "", "End Time": "09/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Roxy Dekker Live in de Ziggo Dome", "Start Date": "09/05/2026", "Start Time": "14:30", "End Date": "09/05/2026", "End Time": "17:30", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Roxy Dekker Live in de Ziggo Dome", "Start Date": "09/05/2026", "Start Time": "20:00", "End Date": "09/05/2026", "End Time": "23:00", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "The Streamers Live in de Ziggo Dome 2026", "Start Date": "09/17/2026", "Start Time": "", "End Date": "", "End Time": "09/17/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "The Streamers Live in de Ziggo Dome 2026", "Start Date": "09/18/2026", "Start Time": "", "End Date": "", "End Time": "09/18/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "The Streamers Live in de Ziggo Dome 2026", "Start Date": "09/19/2026", "Start Time": "13:30", "End Date": "09/19/2026", "End Time": "16:30", "All Day Event": "FALSE", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "The Streamers Live in de Ziggo Dome 2026", "Start Date": "09/19/2026", "Start Time": "20:00", "End Date": "09/19/2026", "End Time": "23:00", "All Day Event": "FALSE", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "The Streamers Live in de Ziggo Dome 2026", "Start Date": "09/20/2026", "Start Time": "20:00", "End Date": "09/20/2026", "End Time": "23:00", "All Day Event": "FALSE", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "Evanescence Live in de Ziggo Dome 2026", "Start Date": "09/22/2026", "Start Time": "", "End Date": "", "End Time": "09/22/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Koninklijk Concertgebouworkest - Joe Hisaishi filmmuziek - Bijzonder Groots", "Start Date": "10/02/2026", "Start Time": "", "End Date": "", "End Time": "10/02/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Koninklijk Concertgebouworkest & Iv√°n Fischer met Beethovens Negende - Bijzonder Groots", "Start Date": "10/03/2026", "Start Time": "", "End Date": "", "End Time": "10/03/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Acda en de Munnik - Bal op het dak", "Start Date": "10/09/2026", "Start Time": "", "End Date": "", "End Time": "10/09/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Acda en de Munnik - Bal op het dak", "Start Date": "10/10/2026", "Start Time": "", "End Date": "", "End Time": "10/10/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Deep Purple Live in de Ziggo Dome 2026", "Start Date": "11/09/2026", "Start Time": "", "End Date": "", "End Time": "11/09/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Het Grote Songfestivalfeest Live in de Ziggo Dome 2026", "Start Date": "11/19/2026", "Start Time": "", "End Date": "", "End Time": "11/19/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "De Avond van de Filmmuziek Live in de Ziggo Dome 2026", "Start Date": "11/20/2026", "Start Time": "", "End Date": "", "End Time": "11/20/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "De Avond van de Filmmuziek Live in de Ziggo Dome 2026", "Start Date": "11/21/2026", "Start Time": "", "End Date": "", "End Time": "11/21/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "De Avond van de Filmmuziek Live in de Ziggo Dome 2026", "Start Date": "11/22/2026", "Start Time": "14:00", "End Date": "11/22/2026", "End Time": "17:00", "All Day Event": "FALSE", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Westlife - 25 The Anniversary World Tour", "Start Date": "11/23/2026", "Start Time": "", "End Date": "", "End Time": "11/23/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Laura Pausini - IO CANTO / YO CANTO WORLD TOUR 2026/2027", "Start Date": "11/24/2026", "Start Time": "", "End Date": "", "End Time": "11/24/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Kensington Live in de Ziggo Dome 2026", "Start Date": "12/04/2026", "Start Time": "", "End Date": "", "End Time": "12/04/2026", "All Day Event": "", "Description": "Concert", "Location": "Ziggo Dome"}, {"Subject": "Muziekfeest van het Jaar Live in de Ziggo Dome 2026", "Start Date": "12/11/2026", "Start Time": "", "End Date": "", "End Time": "12/11/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}, {"Subject": "Muziekfeest van het Jaar Live in de Ziggo Dome 2026", "Start Date": "12/12/2026", "Start Time": "", "End Date": "", "End Time": "12/12/2026", "All Day Event": "", "Description": "Event", "Location": "Ziggo Dome"}];

        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let selectedEvent = null;
        let activeVenues = new Set();
        let multiSelectMode = false;
        let selectedEvents = new Set();
        let taggedEmails = new Set();
        let reminderFilter = 'all';

        // Parse dates and organize events
        const parsedEvents = events.map((event, index) => {
            const [month, day, year] = event['Start Date'].split('/');
            return {
                ...event,
                id: `event-${index}`,
                date: new Date(year, month - 1, day),
                dateStr: `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`
            };
        });

        // Get unique venues
        const venues = [...new Set(events.map(e => e.Location))];
        venues.forEach(v => activeVenues.add(v));

        // Initialize
        function init() {
            renderVenueFilters();
            renderCalendar();
            checkReminders();
            cleanupPastReminders(); // Clean up past reminders on load
            setInterval(checkReminders, 60000); // Check every minute
        }

        function cleanupPastReminders() {
            const reminders = getReminders();
            const now = new Date();
            let cleanupCount = 0;
            
            for (const eventId in reminders) {
                const event = parsedEvents.find(e => e.id === eventId);
                if (!event) continue;
                
                const eventDate = event.date;
                
                // If event date has passed, remove all reminders for this event
                if (eventDate < now) {
                    delete reminders[eventId];
                    cleanupCount++;
                }
            }
            
            if (cleanupCount > 0) {
                localStorage.setItem('eventReminders', JSON.stringify(reminders));
                console.log(`üßπ Cleaned up reminders for ${cleanupCount} past event(s)`);
            }
        }

        function renderVenueFilters() {
            const container = document.getElementById('venueFilters');
            container.innerHTML = venues.map(venue => 
                `<div class="venue-filter active" onclick="toggleVenue('${venue}')">${venue}</div>`
            ).join('');
        }

        function toggleVenue(venue) {
            if (activeVenues.has(venue)) {
                activeVenues.delete(venue);
            } else {
                activeVenues.add(venue);
            }
            renderCalendar();
            
            // Update UI
            const filters = document.querySelectorAll('.venue-filter');
            filters.forEach(f => {
                if (f.textContent === venue) {
                    f.classList.toggle('active');
                }
            });
        }

        function renderCalendar() {
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const prevLastDay = new Date(currentYear, currentMonth, 0);
            
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                              'July', 'August', 'September', 'October', 'November', 'December'];
            
            document.getElementById('currentMonth').textContent = 
                `${monthNames[currentMonth]} ${currentYear}`;
            
            const daysContainer = document.getElementById('calendarDays');
            daysContainer.innerHTML = '';
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            // Previous month days
            const firstDayOfWeek = firstDay.getDay();
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                const day = prevLastDay.getDate() - i;
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day other-month';
                dayDiv.innerHTML = `<div class="day-number">${day}</div>`;
                daysContainer.appendChild(dayDiv);
            }
            
            // Current month days
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const currentDate = new Date(currentYear, currentMonth, day);
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day';
                
                if (currentDate.getTime() === today.getTime()) {
                    dayDiv.classList.add('today');
                }
                
                dayDiv.innerHTML = `<div class="day-number">${day}</div>`;
                
                // Add events for this day
                const dayEvents = parsedEvents.filter(e => {
                    return e.dateStr === dateStr && activeVenues.has(e.Location);
                });
                
                dayEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = 'event-item';
                    eventDiv.style.position = 'relative';
                    
                    // Check if event is today
                    const eventDate = new Date(event.date);
                    eventDate.setHours(0, 0, 0, 0);
                    const todayDate = new Date();
                    todayDate.setHours(0, 0, 0, 0);
                    const isToday = eventDate.getTime() === todayDate.getTime();
                    
                    // Make today's events orange
                    if (isToday) {
                        eventDiv.style.background = '#ff9800';
                        eventDiv.style.color = '#1E2530';
                    }
                    
                    // Check for comment and reminder
                    const comments = getComments();
                    const reminders = getReminders();
                    const youngOnesData = getYoungOnesData();
                    
                    if (comments[event.id] && comments[event.id].length > 0) {
                        eventDiv.classList.add('has-comment');
                    }
                    if (reminders[event.id] && reminders[event.id].length > 0) {
                        eventDiv.classList.add('has-reminder');
                    }
                    
                    // Add checkbox in multi-select mode
                    if (multiSelectMode) {
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.className = 'checkbox-event';
                        checkbox.checked = selectedEvents.has(event.id);
                        checkbox.onclick = (e) => toggleEventSelection(event.id, e);
                        eventDiv.appendChild(checkbox);
                    }
                    
                    // Add Young Ones indicator
                    if (youngOnesData[event.id]?.enabled) {
                        const indicator = document.createElement('span');
                        indicator.textContent = youngOnesData[event.id]?.completed ? '‚úÖ' : 'üéØ';
                        indicator.style.marginRight = '3px';
                        eventDiv.appendChild(indicator);
                    }
                    
                    const textNode = document.createTextNode(event.Subject);
                    eventDiv.appendChild(textNode);
                    
                    if (!multiSelectMode) {
                        eventDiv.onclick = (e) => {
                            e.stopPropagation();
                            openEventModal(event);
                        };
                    }

                    dayDiv.appendChild(eventDiv);
                });
                
                daysContainer.appendChild(dayDiv);
            }
            
            // Next month days
            const lastDayOfWeek = lastDay.getDay();
            for (let i = 1; i < 7 - lastDayOfWeek; i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day other-month';
                dayDiv.innerHTML = `<div class="day-number">${i}</div>`;
                daysContainer.appendChild(dayDiv);
            }
        }

        function previousMonth() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            renderCalendar();
        }

        function nextMonth() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar();
        }

        function goToToday() {
            const today = new Date();
            currentMonth = today.getMonth();
            currentYear = today.getFullYear();
            renderCalendar();
        }

        function formatDateForInput(dateStr) {
            // Convert MM/DD/YYYY to YYYY-MM-DD
            const [month, day, year] = dateStr.split('/');
            return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
        }

        function updateEventField(field, value) {
            if (!selectedEvent) return;
            
            if (field === 'date') {
                // Convert YYYY-MM-DD to MM/DD/YYYY
                const date = new Date(value);
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const year = date.getFullYear();
                selectedEvent['Start Date'] = `${month}/${day}/${year}`;
                selectedEvent['End Date'] = `${month}/${day}/${year}`;
                selectedEvent.date = date;
                selectedEvent.dateStr = `${year}-${month}-${day}`;
            } else if (field === 'time') {
                selectedEvent['Start Time'] = value;
                selectedEvent['All Day Event'] = value ? 'FALSE' : 'TRUE';
            } else if (field === 'type') {
                selectedEvent.Description = value;
            } else if (field === 'location') {
                selectedEvent.Location = value;
            }
            
            // If custom event, update in storage
            if (selectedEvent.isCustom) {
                const customEvents = getCustomEvents();
                const index = customEvents.findIndex(e => e.id === selectedEvent.id);
                if (index > -1) {
                    customEvents[index] = selectedEvent;
                    localStorage.setItem('customEvents', JSON.stringify(customEvents));
                }
            }
            
            renderCalendar();
            console.log('Event updated:', field, value);
        }

        function openEventModal(event) {
            selectedEvent = event;
            const modal = document.getElementById('eventModal');
            
            document.getElementById('modalTitle').textContent = event.Subject;
            
            const timeInfo = event['All Day Event'] === 'TRUE' ? 
                'All Day Event' : 
                (event['Start Time'] ? `${event['Start Time']}${event['End Time'] ? ' - ' + event['End Time'] : ''}` : '-');
            
            document.getElementById('eventDetails').innerHTML = `
                <p><strong>Date:</strong> <input type="date" id="editDate" value="${formatDateForInput(event['Start Date'])}" style="background: rgba(30, 37, 48, 0.5); color: #e0e0e0; border: 1px solid #3d4757; border-radius: 6px; padding: 6px 10px; font-size: 0.95em;" onchange="updateEventField('date', this.value)"></p>
                <p><strong>Time:</strong> <input type="time" id="editTime" value="${event['Start Time'] || ''}" placeholder="-" style="background: rgba(30, 37, 48, 0.5); color: #e0e0e0; border: 1px solid #3d4757; border-radius: 6px; padding: 6px 10px; font-size: 0.95em;" onchange="updateEventField('time', this.value)"></p>
                <p><strong>Type:</strong> <input type="text" id="editType" value="${event.Description}" style="background: rgba(30, 37, 48, 0.5); color: #e0e0e0; border: 1px solid #3d4757; border-radius: 6px; padding: 6px 10px; font-size: 0.95em; width: 200px;" onchange="updateEventField('type', this.value)"></p>
                <p><strong>Location:</strong> <select id="editLocation" style="background: rgba(30, 37, 48, 0.5); color: #e0e0e0; border: 1px solid #3d4757; border-radius: 6px; padding: 6px 10px; font-size: 0.95em;" onchange="updateEventField('location', this.value)">
                    <option value="AFAS Live" ${event.Location === 'AFAS Live' ? 'selected' : ''}>AFAS Live</option>
                    <option value="Ziggo Dome" ${event.Location === 'Ziggo Dome' ? 'selected' : ''}>Ziggo Dome</option>
                    <option value="Johan Cruijff ArenA" ${event.Location === 'Johan Cruijff ArenA' ? 'selected' : ''}>Johan Cruijff ArenA</option>
                    <option value="Koninklijk Theater Carr√©" ${event.Location === 'Koninklijk Theater Carr√©' ? 'selected' : ''}>Koninklijk Theater Carr√©</option>
                    <option value="World Forum" ${event.Location === 'World Forum' ? 'selected' : ''}>World Forum</option>
                    <option value="Other" ${event.Location === 'Other' ? 'selected' : ''}>Other</option>
                </select></p>
            `;
            
            // Load comment thread
            loadCommentThread(event.id);
            
            // Check if event has any reminders to show completion section
            const reminders = getReminders();
            const youngOnesData = getYoungOnesData();
            
            // Cleanup orphaned youngOnesData (if no reminders exist)
            if (youngOnesData[event.id] && (!reminders[event.id] || reminders[event.id].length === 0)) {
                delete youngOnesData[event.id];
                localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
                console.log('üßπ Cleaned up orphaned Young Ones data for event:', event.id);
            }
            
            const hasReminders = (reminders[event.id] && reminders[event.id].length > 0);
            
            console.log('Event:', event.Subject, 'Has reminders:', hasReminders, 'Reminder count:', reminders[event.id]?.length || 0);
            
            document.getElementById('completionToggle').checked = youngOnesData[event.id]?.completed || false;
            document.getElementById('completionSection').style.display = hasReminders ? 'block' : 'none';
            
            // Load reminders
            loadReminders(event.id);
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('eventModal').classList.remove('active');
        }

        // Local storage functions
        function getComments() {
            return JSON.parse(localStorage.getItem('eventComments') || '{}');
        }

        function saveCommentToStorage(eventId, comments) {
            const allComments = getComments();
            allComments[eventId] = comments;
            localStorage.setItem('eventComments', JSON.stringify(allComments));
        }

        function saveComment() {
            if (!selectedEvent) return;
            
            const textarea = document.getElementById('commentText');
            const commentText = textarea.value.trim();
            
            if (!commentText) {
                alert('Please enter a comment');
                return;
            }
            
            // Get current user
            const user = getUserIdentity();
            
            // Get existing comments for this event
            const allComments = getComments();
            if (!allComments[selectedEvent.id]) {
                allComments[selectedEvent.id] = [];
            }
            
            // Extract tagged emails
            const emails = extractEmails(commentText);
            
            // Create new comment object with user info
            const newComment = {
                text: commentText,
                timestamp: new Date().toISOString(),
                taggedEmails: emails,
                userName: user.name || 'Anonymous',
                userEmail: user.email || ''
            };
            
            // Add to thread
            allComments[selectedEvent.id].push(newComment);
            saveCommentToStorage(selectedEvent.id, allComments[selectedEvent.id]);
            
            // Send email notifications to tagged users
            if (emails.length > 0) {
                sendEmailNotification(emails, selectedEvent.Subject, commentText);
            }
            
            // Clear textarea
            textarea.value = '';
            
            // Reload comment thread
            loadCommentThread(selectedEvent.id);
            renderCalendar();
        }

        function loadCommentThread(eventId) {
            const container = document.getElementById('commentThread');
            const allComments = getComments();
            const eventComments = allComments[eventId] || [];
            const youngOnesData = getYoungOnesData();
            
            let html = '';
            
            // Show completion status at the top if completed
            if (youngOnesData[eventId]?.completed && youngOnesData[eventId]?.completedBy) {
                const completedAt = new Date(youngOnesData[eventId].completedAt);
                html += `
                    <div style="background: linear-gradient(135deg, rgba(40, 167, 69, 0.2) 0%, rgba(40, 167, 69, 0.1) 100%); 
                                padding: 12px; 
                                margin-bottom: 12px; 
                                border-radius: 8px; 
                                border-left: 4px solid #28a745;
                                color: white;
                                font-size: 0.9em;">
                        ‚úÖ Completed by ${youngOnesData[eventId].completedBy} on ${completedAt.toLocaleString()}
                    </div>
                `;
            }
            
            if (eventComments.length === 0 && !html) {
                container.innerHTML = '<div class="no-comments">No comments yet. Start the conversation!</div>';
                return;
            }
            
            // Reverse order - latest first
            const reversedComments = [...eventComments].reverse();
            
            reversedComments.forEach((comment, displayIndex) => {
                // Get actual index in original array (for deletion)
                const actualIndex = eventComments.length - 1 - displayIndex;
                
                const timestamp = new Date(comment.timestamp);
                const userName = comment.userName || 'Anonymous';
                const taggedHtml = comment.taggedEmails && comment.taggedEmails.length > 0
                    ? `<div class="comment-tags">üìß ${comment.taggedEmails.map(e => `<span class="email-tag">${e}</span>`).join(' ')}</div>`
                    : '';
                
                html += `
                    <div class="comment-item">
                        <div class="comment-header">
                            <div class="comment-meta">
                                <span class="comment-number">üë§ ${userName}</span>
                                <span class="comment-timestamp">${timestamp.toLocaleString()}</span>
                            </div>
                            <button onclick="deleteCommentByIndex(${actualIndex})" style="background: transparent; border: 1px solid rgba(220, 53, 69, 0.5); color: #dc3545; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#dc3545'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='#dc3545';">‚úï</button>
                        </div>
                        <div class="comment-body">${comment.text}</div>
                        ${taggedHtml}
                    </div>
                `;
            });
            
            container.innerHTML = html;
            
            // Scroll to top (since latest is now at top)
            container.scrollTop = 0;
        }

        function getUserIdentity() {
            return JSON.parse(localStorage.getItem('userIdentity') || '{}');
        }

        function saveUserIdentity() {
            const name = document.getElementById('userName').value.trim();
            const email = document.getElementById('userEmail').value.trim();
            
            if (!name || !email) {
                alert('Please enter both your name and email');
                return;
            }
            
            const userIdentity = { name, email };
            localStorage.setItem('userIdentity', JSON.stringify(userIdentity));
            
            // Update header
            document.getElementById('currentUserName').textContent = name;
            
            // Close login modal
            document.getElementById('userLoginModal').classList.remove('active');
        }

        function changeUser() {
            document.getElementById('userLoginModal').classList.add('active');
            const user = getUserIdentity();
            if (user.name) {
                document.getElementById('userName').value = user.name;
                document.getElementById('userEmail').value = user.email;
            }
        }

        function checkUserIdentity() {
            const user = getUserIdentity();
            if (user.name && user.email) {
                document.getElementById('currentUserName').textContent = user.name;
                document.getElementById('userLoginModal').classList.remove('active');
            } else {
                document.getElementById('userLoginModal').classList.add('active');
            }
        }

        function replyToComment(commentIndex) {
            // Not needed anymore - simple thread
        }

        function renderComment(comment, index, allComments) {
            // Not needed anymore - simple thread
        }

        function createReplyIndicator() {
            // Not needed anymore - simple thread
        }

        function cancelReply() {
            // Not needed anymore - simple thread
        }

        function deleteComment() {
            // This function is now deprecated - comments are kept in thread
        }

        function deleteCommentByIndex(commentIndex) {
            if (!selectedEvent) return;
            
            if (!confirm('Delete this comment?')) {
                return;
            }
            
            const allComments = getComments();
            const eventComments = allComments[selectedEvent.id] || [];
            
            // Remove comment at index
            eventComments.splice(commentIndex, 1);
            
            // Save updated comments
            if (eventComments.length === 0) {
                delete allComments[selectedEvent.id];
            } else {
                allComments[selectedEvent.id] = eventComments;
            }
            
            localStorage.setItem('eventComments', JSON.stringify(allComments));
            
            // Reload thread
            loadCommentThread(selectedEvent.id);
            renderCalendar();
        }

        // Reminder functions
        function getReminders() {
            return JSON.parse(localStorage.getItem('eventReminders') || '{}');
        }

        function setReminder() {
            if (!selectedEvent) return;
            
            const date = document.getElementById('reminderDate').value;
            const time = document.getElementById('reminderTime').value;
            
            if (!date || !time) {
                alert('Please select both date and time for the reminder');
                return;
            }
            
            const reminderDateTime = new Date(`${date}T${time}`);
            
            if (reminderDateTime <= new Date()) {
                alert('Reminder time must be in the future');
                return;
            }
            
            const reminders = getReminders();
            if (!reminders[selectedEvent.id]) {
                reminders[selectedEvent.id] = [];
            }
            
            reminders[selectedEvent.id].push({
                datetime: reminderDateTime.toISOString(),
                displayed: false
            });
            
            localStorage.setItem('eventReminders', JSON.stringify(reminders));
            
            // Create Google Calendar event for future reminder
            createGoogleCalendarReminder(selectedEvent, reminderDateTime, 'custom');
            
            // Send immediate confirmation email (only this one)
            sendReminderConfirmationEmail(selectedEvent, reminderDateTime);
            
            // Mark Young Ones as enabled
            const youngOnesData = getYoungOnesData();
            if (!youngOnesData[selectedEvent.id]) {
                youngOnesData[selectedEvent.id] = {};
            }
            youngOnesData[selectedEvent.id].enabled = true;
            localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
            
            // Show completion section
            document.getElementById('completionSection').style.display = 'block';
            
            // Request notification permission
            if (Notification.permission === 'default') {
                Notification.requestPermission();
            }
            
            loadReminders(selectedEvent.id);
            renderCalendar();
            alert('‚úÖ Reminder set!\n\n‚Ä¢ Browser reminder saved\n‚Ä¢ Google Calendar event created\n‚Ä¢ Confirmation email sent\n\nYou will receive a reminder email from Google Calendar on ' + reminderDateTime.toLocaleDateString());
        }

        function loadReminders(eventId) {
            const reminders = getReminders();
            const eventReminders = reminders[eventId] || [];
            
            const container = document.getElementById('reminderList');
            if (eventReminders.length === 0) {
                container.innerHTML = '<p style="color: #666;">No reminders set</p>';
                return;
            }
            
            container.innerHTML = eventReminders.map((reminder, index) => {
                const dt = new Date(reminder.datetime);
                return `
                    <div class="reminder-item">
                        <span>${dt.toLocaleString()}</span>
                        <button class="btn btn-danger" onclick="deleteReminder('${eventId}', ${index})">Delete</button>
                    </div>
                `;
            }).join('');
        }

        function deleteReminder(eventId, index) {
            const reminders = getReminders();
            reminders[eventId].splice(index, 1);
            
            if (reminders[eventId].length === 0) {
                delete reminders[eventId];
                // Hide completion section if no reminders left
                document.getElementById('completionSection').style.display = 'none';
            }
            
            localStorage.setItem('eventReminders', JSON.stringify(reminders));
            loadReminders(eventId);
            renderCalendar();
        }

        function checkReminders() {
            const now = new Date();
            const reminders = getReminders();
            let updated = false;
            
            for (const eventId in reminders) {
                const event = parsedEvents.find(e => e.id === eventId);
                if (!event) continue;
                
                reminders[eventId] = reminders[eventId].filter(reminder => {
                    const reminderTime = new Date(reminder.datetime);
                    
                    if (now >= reminderTime && !reminder.displayed) {
                        if (Notification.permission === 'granted') {
                            new Notification('Event Reminder', {
                                body: `${event.Subject} at ${event.Location}`,
                                icon: 'üéâ'
                            });
                        } else {
                            alert(`Reminder: ${event.Subject} at ${event.Location}`);
                        }
                        reminder.displayed = true;
                        updated = true;
                    }
                    
                    return now < reminderTime || !reminder.displayed;
                });
                
                if (reminders[eventId].length === 0) {
                    delete reminders[eventId];
                }
            }
            
            if (updated) {
                localStorage.setItem('eventReminders', JSON.stringify(reminders));
            }
        }

        // Close modal on outside click
        document.getElementById('eventModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.getElementById('addEventModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAddEventModal();
            }
        });

        document.getElementById('remindersModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeRemindersModal();
            }
        });

        // Email tagging functions
        function setupEmailTagging() {
            // Email tagging is now just manual typing - no popup
            // Emails are automatically detected when comment is saved
        }

        function insertEmail(suffix) {
            // Not needed anymore - no autocomplete
        }

        function extractEmails(text) {
            const emailRegex = /\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g;
            return text.match(emailRegex) || [];
        }

        function getEventTags(eventId) {
            const allTags = JSON.parse(localStorage.getItem('eventEmailTags') || '{}');
            return allTags[eventId] || [];
        }

        function saveEventTags(eventId, emails) {
            const allTags = JSON.parse(localStorage.getItem('eventEmailTags') || '{}');
            allTags[eventId] = emails;
            localStorage.setItem('eventEmailTags', JSON.stringify(allTags));
        }

        function displayTaggedEmails(emails) {
            const container = document.getElementById('taggedEmails');
            if (emails.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = '<strong>Tagged:</strong> ' + 
                emails.map(email => `<span class="email-tag">${email}</span>`).join('');
        }

        function sendEmailNotification(emails, eventName, comment) {
            // Send data to Google Sheets via Apps Script
            emails.forEach(email => {
                const timestamp = new Date().toLocaleString();
                const subject = `You've been tagged: ${eventName}`;
                const body = `Event: ${eventName}\n\nComment: ${comment}\n\n---\nAutomated message from Events Calendar`;
                
                const payload = {
                    timestamp: timestamp,
                    to: email,
                    subject: subject,
                    body: body,
                    type: 'comment_tag'
                };
                
                fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                })
                .then(() => {
                    console.log('Email notification queued for:', email);
                })
                .catch(error => {
                    console.error('Error sending to Google Sheets:', error);
                });
            });
            
            alert(`‚úÖ Email notification(s) queued for: ${emails.join(', ')}\n\nZapier will send the email shortly!`);
        }

        // Young Ones reminder functions
        function getYoungOnesData() {
            return JSON.parse(localStorage.getItem('youngOnesData') || '{}');
        }

        function saveYoungOnesData(eventId, data) {
            const allData = getYoungOnesData();
            allData[eventId] = data;
            localStorage.setItem('youngOnesData', JSON.stringify(allData));
        }

        function toggleCompletion() {
            if (!selectedEvent) return;
            
            const isCompleted = document.getElementById('completionToggle').checked;
            const youngOnesData = getYoungOnesData();
            const user = getUserIdentity();
            
            if (!youngOnesData[selectedEvent.id]) {
                youngOnesData[selectedEvent.id] = {};
            }
            
            youngOnesData[selectedEvent.id].completed = isCompleted;
            youngOnesData[selectedEvent.id].completedBy = isCompleted ? user.name : null;
            youngOnesData[selectedEvent.id].completedAt = isCompleted ? new Date().toISOString() : null;
            
            saveYoungOnesData(selectedEvent.id, youngOnesData[selectedEvent.id]);
            
            // Reload comment thread to show/hide completion status
            loadCommentThread(selectedEvent.id);
            
            if (isCompleted) {
                triggerFireworks();
                alert(`‚úÖ Young Ones staff marked as arranged!\n\nCompleted by: ${user.name}`);
            }
            
            renderCalendar();
        }

        function sendYoungOnesEmail(event) {
            const email = 'm.kovacevic@parkbee.com';
            const timestamp = new Date().toLocaleString();
            const subject = `üéØ Young Ones Reminder: ${event.Subject}`;
            const body = `Event: ${event.Subject}\nDate: ${event['Start Date']}\nTime: ${event['All Day Event'] === 'TRUE' ? 'All Day' : event['Start Time']}\nLocation: ${event.Location}\nType: ${event.Description}\n\n---\nPlease arrange Young Ones staff for this event.`;
            
            const payload = {
                timestamp: timestamp,
                to: email,
                subject: subject,
                body: body,
                type: 'young_ones'
            };
            
            fetch(APPS_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload)
            })
            .then(() => {
                console.log('Young Ones email queued for:', email);
                alert(`‚úÖ Young Ones reminder queued!\n\nEmail will be sent to ${email} via Zapier.`);
            })
            .catch(error => {
                console.error('Error sending to Google Sheets:', error);
                alert('‚ö†Ô∏è Error queueing email. Check console for details.');
            });
        }

        function triggerFireworks() {
            // Create confetti explosion
            const colors = ['#FFCF56', '#8A2BE2', '#FF7F50', '#48D1CC', '#fff', '#FFB84D'];
            const confettiCount = 150;
            const duration = 4000;
            
            // Create confetti container
            const container = document.createElement('div');
            container.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99999;';
            document.body.appendChild(container);
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    
                    // Random properties
                    const size = Math.random() * 10 + 5;
                    const startX = Math.random() * window.innerWidth;
                    const startY = window.innerHeight / 2;
                    const velocityX = (Math.random() - 0.5) * 600;
                    const velocityY = -(Math.random() * 400 + 200);
                    const rotation = Math.random() * 360;
                    const rotationSpeed = (Math.random() - 0.5) * 720;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const shape = Math.random() > 0.5 ? 'square' : 'circle';
                    
                    confetti.style.cssText = `
                        position: absolute;
                        left: ${startX}px;
                        top: ${startY}px;
                        width: ${size}px;
                        height: ${size}px;
                        background: ${color};
                        border-radius: ${shape === 'circle' ? '50%' : '2px'};
                        transform: rotate(${rotation}deg);
                        pointer-events: none;
                        box-shadow: 0 0 10px ${color};
                    `;
                    
                    container.appendChild(confetti);
                    
                    // Animate
                    const startTime = Date.now();
                    const animate = () => {
                        const elapsed = Date.now() - startTime;
                        const progress = elapsed / duration;
                        
                        if (progress >= 1) {
                            confetti.remove();
                            return;
                        }
                        
                        const gravity = 400;
                        const x = startX + velocityX * (elapsed / 1000);
                        const y = startY + velocityY * (elapsed / 1000) + 0.5 * gravity * Math.pow(elapsed / 1000, 2);
                        const rot = rotation + rotationSpeed * (elapsed / 1000);
                        const opacity = 1 - progress;
                        
                        confetti.style.left = x + 'px';
                        confetti.style.top = y + 'px';
                        confetti.style.transform = `rotate(${rot}deg)`;
                        confetti.style.opacity = opacity;
                        
                        requestAnimationFrame(animate);
                    };
                    
                    requestAnimationFrame(animate);
                }, i * 10);
            }
            
            // Cleanup container
            setTimeout(() => {
                container.remove();
            }, duration + 500);
            
            // Add celebration message
            const message = document.createElement('div');
            message.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0);
                background: linear-gradient(135deg, rgba(138, 43, 226, 0.95) 0%, rgba(255, 207, 86, 0.95) 100%);
                color: white;
                padding: 30px 50px;
                border-radius: 20px;
                font-size: 2em;
                font-weight: 700;
                z-index: 100000;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(10px);
                animation: celebration-pop 0.5s ease-out forwards;
            `;
            message.textContent = 'üéâ Young Ones Arranged! üéâ';
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.style.animation = 'celebration-pop 0.3s ease-in reverse forwards';
                setTimeout(() => message.remove(), 300);
            }, 2000);
        }
        
        const style = document.createElement('style');
        style.textContent = `
            @keyframes celebration-pop {
                0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                50% { transform: translate(-50%, -50%) scale(1.1); }
                100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(style);

        function setTwoWeekReminder() {
            if (!selectedEvent) return;
            
            const eventDate = selectedEvent.date;
            const reminderDate = new Date(eventDate);
            reminderDate.setDate(reminderDate.getDate() - 14);
            reminderDate.setHours(9, 0, 0, 0); // Set to 9:00 AM
            
            // Check if reminder date is in the past
            if (reminderDate <= new Date()) {
                alert('This event is less than 2 weeks away. Please set a manual reminder instead.');
                return;
            }
            
            const reminders = getReminders();
            if (!reminders[selectedEvent.id]) {
                reminders[selectedEvent.id] = [];
            }
            
            reminders[selectedEvent.id].push({
                datetime: reminderDate.toISOString(),
                displayed: false,
                type: '2-week-advance'
            });
            
            localStorage.setItem('eventReminders', JSON.stringify(reminders));
            
            // Create Google Calendar event for future reminder
            createGoogleCalendarReminder(selectedEvent, reminderDate, '2-week-advance');
            
            // Send confirmation email (that reminder is scheduled)
            sendReminderConfirmationEmail(selectedEvent, reminderDate);
            
            // Mark Young Ones as enabled
            const youngOnesData = getYoungOnesData();
            if (!youngOnesData[selectedEvent.id]) {
                youngOnesData[selectedEvent.id] = {};
            }
            youngOnesData[selectedEvent.id].enabled = true;
            localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
            
            // Show completion section
            document.getElementById('completionSection').style.display = 'block';
            
            loadReminders(selectedEvent.id);
            renderCalendar();
            alert(`‚úÖ 2-Week Reminder Set!\n\n‚Ä¢ Browser reminder: ${reminderDate.toLocaleDateString()} at 9:00 AM\n‚Ä¢ Google Calendar event created\n‚Ä¢ Confirmation email sent\n\nYou will receive a reminder email from Google Calendar 2 weeks before the event!`);
        }

        function createGoogleCalendarReminder(event, reminderDateTime, reminderType) {
            const payload = {
                reminderDateTime: reminderDateTime.toISOString(),
                eventName: event.Subject,
                eventDate: event['Start Date'],
                eventLocation: event.Location,
                reminderType: reminderType
            };
            
            console.log('Creating Google Calendar event with payload:', payload);
            
            fetch(GOOGLE_CALENDAR_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload)
            })
            .then(() => {
                console.log('‚úÖ Google Calendar event creation request sent successfully');
                console.log('Check calendar.google.com for the event');
            })
            .catch(error => {
                console.error('‚ùå Error creating Google Calendar event:', error);
                alert('Warning: There may have been an issue creating the Google Calendar event. Check the console for details.');
            });
        }

        function sendReminderConfirmationEmail(event, reminderDate) {
            const email = 'm.kovacevic@parkbee.com';
            const timestamp = new Date().toLocaleString();
            const subject = `‚úÖ Reminder Scheduled: ${event.Subject}`;
            const body = `A reminder has been successfully scheduled!\n\nüìÖ Event: ${event.Subject}\nüìç Location: ${event.Location}\nüóìÔ∏è Event Date: ${event['Start Date']}\n\n‚è∞ REMINDER SCHEDULED FOR:\n${reminderDate.toLocaleDateString()} at ${reminderDate.toLocaleTimeString()}\n(2 weeks before the event)\n\n---\nYou will receive a reminder notification on this date.`;
            
            const payload = {
                timestamp: timestamp,
                to: email,
                subject: subject,
                body: body,
                type: 'reminder_confirmation'
            };
            
            fetch(APPS_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload)
            })
            .then(() => {
                console.log('Reminder confirmation email queued for:', email);
            })
            .catch(error => {
                console.error('Error sending confirmation email:', error);
            });
        }

        // Add event functions
        function openAddEventModal() {
            document.getElementById('addEventModal').classList.add('active');
            // Clear form
            document.getElementById('newEventName').value = '';
            document.getElementById('newEventDate').value = '';
            document.getElementById('newEventTime').value = '';
            document.getElementById('newEventVenue').value = 'AFAS Live';
            document.getElementById('newEventType').value = '';
        }

        function closeAddEventModal() {
            document.getElementById('addEventModal').classList.remove('active');
        }

        function saveNewEvent() {
            const name = document.getElementById('newEventName').value.trim();
            const date = document.getElementById('newEventDate').value;
            const time = document.getElementById('newEventTime').value;
            const venue = document.getElementById('newEventVenue').value;
            const type = document.getElementById('newEventType').value.trim() || 'Event';
            
            if (!name || !date) {
                alert('Please enter at least an event name and date');
                return;
            }
            
            // Parse date
            const dateObj = new Date(date);
            const month = String(dateObj.getMonth() + 1).padStart(2, '0');
            const day = String(dateObj.getDate()).padStart(2, '0');
            const year = dateObj.getFullYear();
            const dateStr = `${month}/${day}/${year}`;
            
            // Create new event
            const newEvent = {
                Subject: name,
                'Start Date': dateStr,
                'Start Time': time,
                'End Date': dateStr,
                'End Time': '',
                'All Day Event': time ? 'FALSE' : 'TRUE',
                Description: type,
                Location: venue,
                id: `custom-event-${Date.now()}`,
                date: dateObj,
                dateStr: `${year}-${month}-${day}`,
                isCustom: true
            };
            
            // Add to events array
            parsedEvents.push(newEvent);
            
            // Save custom events to localStorage
            const customEvents = getCustomEvents();
            customEvents.push(newEvent);
            localStorage.setItem('customEvents', JSON.stringify(customEvents));
            
            // Update venues if needed
            if (!venues.includes(venue)) {
                venues.push(venue);
                activeVenues.add(venue);
                renderVenueFilters();
            }
            
            // Re-render calendar
            renderCalendar();
            closeAddEventModal();
            alert('Event added successfully!');
        }

        function uploadCSV() {
            const fileInput = document.getElementById('csvUpload');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('Please select a CSV file to upload');
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const text = e.target.result;
                const lines = text.split('\n');
                
                // Skip header row
                let addedCount = 0;
                const customEvents = getCustomEvents();
                
                for (let i = 1; i < lines.length; i++) {
                    const line = lines[i].trim();
                    if (!line) continue;
                    
                    // Parse CSV line (handle commas in quotes)
                    const matches = line.match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g);
                    if (!matches || matches.length < 8) continue;
                    
                    const values = matches.map(v => v.replace(/^"|"$/g, '').trim());
                    
                    const [subject, startDate, startTime, endDate, endTime, allDay, description, location] = values;
                    
                    if (!subject || !startDate) continue;
                    
                    // Parse date
                    const [month, day, year] = startDate.split('/');
                    const dateObj = new Date(year, month - 1, day);
                    const dateStr = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
                    
                    const newEvent = {
                        Subject: subject,
                        'Start Date': startDate,
                        'Start Time': startTime || '',
                        'End Date': endDate || startDate,
                        'End Time': endTime || '',
                        'All Day Event': allDay || 'TRUE',
                        Description: description || 'Event',
                        Location: location || 'Other',
                        id: `csv-event-${Date.now()}-${i}`,
                        date: dateObj,
                        dateStr: dateStr,
                        isCustom: true
                    };
                    
                    parsedEvents.push(newEvent);
                    customEvents.push(newEvent);
                    
                    // Update venues if needed
                    if (!venues.includes(location)) {
                        venues.push(location);
                        activeVenues.add(location);
                    }
                    
                    addedCount++;
                }
                
                // Save all custom events
                localStorage.setItem('customEvents', JSON.stringify(customEvents));
                
                // Update UI
                renderVenueFilters();
                renderCalendar();
                closeAddEventModal();
                
                alert(`‚úÖ Successfully imported ${addedCount} events from CSV!`);
                
                // Clear file input
                fileInput.value = '';
            };
            
            reader.onerror = function() {
                alert('Error reading CSV file. Please try again.');
            };
            
            reader.readAsText(file);
        }

        function getCustomEvents() {
            return JSON.parse(localStorage.getItem('customEvents') || '[]');
        }

        // Multi-select functions
        function toggleMultiSelectMode() {
            multiSelectMode = !multiSelectMode;
            
            if (multiSelectMode) {
                document.getElementById('multiSelectBar').classList.add('active');
            } else {
                document.getElementById('multiSelectBar').classList.remove('active');
                selectedEvents.clear();
            }
            
            renderCalendar();
        }

        function toggleEventSelection(eventId, event) {
            event.stopPropagation();
            
            if (selectedEvents.has(eventId)) {
                selectedEvents.delete(eventId);
            } else {
                selectedEvents.add(eventId);
            }
            
            updateSelectedCount();
            renderCalendar();
        }

        function updateSelectedCount() {
            document.getElementById('selectedCount').textContent = `${selectedEvents.size} event(s) selected`;
        }

        function setBulkReminder() {
            if (selectedEvents.size === 0) {
                alert('Please select at least one event');
                return;
            }
            
            const date = document.getElementById('bulkReminderDate').value;
            const time = document.getElementById('bulkReminderTime').value;
            
            if (!date || !time) {
                alert('Please select both date and time for the bulk reminder');
                return;
            }
            
            const reminderDateTime = new Date(`${date}T${time}`);
            
            if (reminderDateTime <= new Date()) {
                alert('Reminder time must be in the future');
                return;
            }
            
            const youngOnesData = getYoungOnesData();
            const selectedArray = Array.from(selectedEvents);
            let remindersSet = 0;
            
            selectedArray.forEach(eventId => {
                const event = parsedEvents.find(e => e.id === eventId);
                if (!event) return;
                
                // Save reminder
                const reminders = getReminders();
                if (!reminders[eventId]) {
                    reminders[eventId] = [];
                }
                reminders[eventId].push({
                    datetime: reminderDateTime.toISOString(),
                    displayed: false
                });
                localStorage.setItem('eventReminders', JSON.stringify(reminders));
                
                // Create Google Calendar event
                createGoogleCalendarReminder(event, reminderDateTime, 'custom');
                
                // Send confirmation email
                sendReminderConfirmationEmail(event, reminderDateTime);
                
                // Mark Young Ones as enabled
                if (!youngOnesData[eventId]) {
                    youngOnesData[eventId] = {};
                }
                youngOnesData[eventId].enabled = true;
                
                remindersSet++;
            });
            
            localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
            
            setTimeout(() => {
                alert(`‚úÖ ${remindersSet} reminder(s) set for ${reminderDateTime.toLocaleDateString()} at ${reminderDateTime.toLocaleTimeString()}!\n\nConfirmation emails sent.\nGoogle Calendar events created.`);
                cancelMultiSelect();
            }, 1000);
        }

        function setBulkTwoWeekReminder() {
            if (selectedEvents.size === 0) {
                alert('Please select at least one event');
                return;
            }
            
            const youngOnesData = getYoungOnesData();
            const selectedArray = Array.from(selectedEvents);
            let remindersSet = 0;
            
            selectedArray.forEach(eventId => {
                const event = parsedEvents.find(e => e.id === eventId);
                if (!event) return;
                
                const eventDate = event.date;
                const reminderDate = new Date(eventDate);
                reminderDate.setDate(reminderDate.getDate() - 14);
                reminderDate.setHours(9, 0, 0, 0);
                
                if (reminderDate > new Date()) {
                    // Save reminder
                    const reminders = getReminders();
                    if (!reminders[eventId]) {
                        reminders[eventId] = [];
                    }
                    reminders[eventId].push({
                        datetime: reminderDate.toISOString(),
                        displayed: false,
                        type: '2-week-advance'
                    });
                    localStorage.setItem('eventReminders', JSON.stringify(reminders));
                    
                    // Create Google Calendar event
                    createGoogleCalendarReminder(event, reminderDate, '2-week-advance');
                    
                    // Send confirmation email
                    sendReminderConfirmationEmail(event, reminderDate);
                    
                    // Mark Young Ones as enabled
                    if (!youngOnesData[eventId]) {
                        youngOnesData[eventId] = {};
                    }
                    youngOnesData[eventId].enabled = true;
                    
                    remindersSet++;
                }
            });
            
            localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
            
            setTimeout(() => {
                alert(`‚úÖ ${remindersSet} reminder(s) set (2 weeks before each event)!\n\nConfirmation emails sent.\nGoogle Calendar events created.`);
                cancelMultiSelect();
            }, 1000);
        }

        function cancelMultiSelect() {
            multiSelectMode = false;
            selectedEvents.clear();
            document.getElementById('multiSelectBar').classList.remove('active');
            renderCalendar();
        }

        // Load custom events on init
        function loadCustomEvents() {
            const customEvents = getCustomEvents();
            customEvents.forEach(event => {
                // Parse the date properly
                const [month, day, year] = event['Start Date'].split('/');
                event.date = new Date(year, month - 1, day);
                event.dateStr = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
                parsedEvents.push(event);
            });
        }

        // Initialize calendar
        checkUserIdentity(); // Check if user is logged in
        init();
        loadCustomEvents();
        renderCalendar();
        
        // Setup enter key listeners after a short delay to ensure elements exist
        setTimeout(setupEnterKeyListeners, 500);

        function setupEnterKeyListeners() {
            // User login - Enter to submit
            const userEmail = document.getElementById('userEmail');
            if (userEmail) {
                userEmail.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        saveUserIdentity();
                    }
                });
            }
            
            const userName = document.getElementById('userName');
            if (userName) {
                userName.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('userEmail').focus();
                    }
                });
            }
            
            // Comment textarea - Ctrl+Enter to submit
            const commentText = document.getElementById('commentText');
            if (commentText) {
                commentText.addEventListener('keydown', function(e) {
                    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                        e.preventDefault();
                        saveComment();
                    }
                    if (e.key === 'Escape') {
                        cancelReply();
                    }
                });
            }
            
            // Search query - Enter to search
            const searchQuery = document.getElementById('searchQuery');
            if (searchQuery) {
                searchQuery.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        performSearch();
                    }
                });
            }
            
            // New event name - Enter to focus next
            const newEventName = document.getElementById('newEventName');
            if (newEventName) {
                newEventName.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('newEventDate').focus();
                    }
                });
            }
            
            // Reminder date - Enter to focus time
            const reminderDate = document.getElementById('reminderDate');
            if (reminderDate) {
                reminderDate.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('reminderTime').focus();
                    }
                });
            }
            
            // Reminder time - Enter to set reminder
            const reminderTime = document.getElementById('reminderTime');
            if (reminderTime) {
                reminderTime.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        setReminder();
                    }
                });
            }
            
            // Bulk reminder date - Enter to focus time
            const bulkReminderDate = document.getElementById('bulkReminderDate');
            if (bulkReminderDate) {
                bulkReminderDate.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('bulkReminderTime').focus();
                    }
                });
            }
            
            // Bulk reminder time - Enter to set bulk reminder
            const bulkReminderTime = document.getElementById('bulkReminderTime');
            if (bulkReminderTime) {
                bulkReminderTime.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        setBulkReminder();
                    }
                });
            }
        }

        // Search Modal Functions
        function openSearchModal() {
            document.getElementById('searchModal').classList.add('active');
        }

        function closeSearchModal() {
            document.getElementById('searchModal').classList.remove('active');
        }

        function performSearch() {
            const query = document.getElementById('searchQuery').value.toLowerCase();
            const venue = document.getElementById('searchVenue').value;
            const type = document.getElementById('searchType').value;
            const dateFrom = document.getElementById('searchDateFrom').value;
            const dateTo = document.getElementById('searchDateTo').value;
            
            const results = parsedEvents.filter(event => {
                let match = true;
                
                if (query && !event.Subject.toLowerCase().includes(query)) {
                    match = false;
                }
                if (venue && event.Location !== venue) {
                    match = false;
                }
                if (type && event.Description !== type) {
                    match = false;
                }
                if (dateFrom) {
                    const eventDate = new Date(event.date);
                    const fromDate = new Date(dateFrom);
                    if (eventDate < fromDate) match = false;
                }
                if (dateTo) {
                    const eventDate = new Date(event.date);
                    const toDate = new Date(dateTo);
                    if (eventDate > toDate) match = false;
                }
                
                return match;
            });
            
            displaySearchResults(results);
        }

        function displaySearchResults(results) {
            const container = document.getElementById('searchResults');
            
            if (results.length === 0) {
                container.innerHTML = '<div class="no-reminders">No events found matching your criteria.</div>';
                return;
            }
            
            let html = `<h3 style="color: #FFCF56; margin-bottom: 15px;">${results.length} Event(s) Found</h3>`;
            
            results.forEach(event => {
                html += `
                    <div class="reminder-card">
                        <div class="reminder-event-title">${event.Subject}</div>
                        <div class="reminder-details">
                            üìÖ ${event['Start Date']}<br>
                            üìç ${event.Location}<br>
                            üé≠ ${event.Description}
                        </div>
                        <button class="btn" onclick="openEventFromSearch('${event.id}')" style="font-size: 14px; padding: 8px 16px; margin-top: 10px;">View Event</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function openEventFromSearch(eventId) {
            const event = parsedEvents.find(e => e.id === eventId);
            if (event) {
                closeSearchModal();
                openEventModal(event);
            }
        }

        // Timeline Modal Functions
        function openTimelineModal() {
            document.getElementById('timelineModal').classList.add('active');
            generateTimeline();
        }

        function closeTimelineModal() {
            document.getElementById('timelineModal').classList.remove('active');
        }

        function generateTimeline() {
            const container = document.getElementById('timelineView');
            const sortedEvents = [...parsedEvents].sort((a, b) => a.date - b.date);
            
            let html = '';
            let currentMonth = '';
            
            sortedEvents.forEach(event => {
                const monthYear = event.date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                
                if (monthYear !== currentMonth) {
                    currentMonth = monthYear;
                    html += `<h3 style="color: #FFCF56; margin: 30px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #3d4757;">${monthYear}</h3>`;
                }
                
                html += `
                    <div style="padding: 12px; margin: 8px 0; background: #1E2530; border-left: 4px solid #FFCF56; border-radius: 8px; cursor: pointer;" onclick="openEventFromTimeline('${event.id}')">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: 600; color: #e0e0e0; margin-bottom: 4px;">${event.Subject}</div>
                                <div style="font-size: 0.9em; color: #999;">üìÖ ${event['Start Date']} ‚Ä¢ üìç ${event.Location}</div>
                            </div>
                            <div style="background: #FFCF56; color: #1E2530; padding: 4px 12px; border-radius: 12px; font-size: 0.85em; font-weight: 600;">${event.Description}</div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function openEventFromTimeline(eventId) {
            const event = parsedEvents.find(e => e.id === eventId);
            if (event) {
                closeTimelineModal();
                openEventModal(event);
            }
        }

        // List View Modal Functions
        function openListModal() {
            document.getElementById('listModal').classList.add('active');
            generateListView();
        }

        function closeListModal() {
            document.getElementById('listModal').classList.remove('active');
        }

        let listSortColumn = 'date';
        let listSortAsc = true;

        function generateListView() {
            const container = document.getElementById('listView');
            
            let html = `
                <table style="width: 100%; border-collapse: collapse; background: #1E2530; border-radius: 8px; overflow: hidden;">
                    <thead>
                        <tr style="background: #2a3240; color: #FFCF56;">
                            <th style="padding: 12px; text-align: left; cursor: pointer; border-bottom: 2px solid #3d4757;" onclick="sortList('name')">Event ${listSortColumn === 'name' ? (listSortAsc ? '‚Üë' : '‚Üì') : ''}</th>
                            <th style="padding: 12px; text-align: left; cursor: pointer; border-bottom: 2px solid #3d4757;" onclick="sortList('date')">Date ${listSortColumn === 'date' ? (listSortAsc ? '‚Üë' : '‚Üì') : ''}</th>
                            <th style="padding: 12px; text-align: left; cursor: pointer; border-bottom: 2px solid #3d4757;" onclick="sortList('venue')">Venue ${listSortColumn === 'venue' ? (listSortAsc ? '‚Üë' : '‚Üì') : ''}</th>
                            <th style="padding: 12px; text-align: left; cursor: pointer; border-bottom: 2px solid #3d4757;" onclick="sortList('type')">Type ${listSortColumn === 'type' ? (listSortAsc ? '‚Üë' : '‚Üì') : ''}</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #3d4757;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            let sorted = [...parsedEvents];
            sorted.sort((a, b) => {
                let aVal, bVal;
                if (listSortColumn === 'name') {
                    aVal = a.Subject;
                    bVal = b.Subject;
                } else if (listSortColumn === 'date') {
                    return listSortAsc ? a.date - b.date : b.date - a.date;
                } else if (listSortColumn === 'venue') {
                    aVal = a.Location;
                    bVal = b.Location;
                } else if (listSortColumn === 'type') {
                    aVal = a.Description;
                    bVal = b.Description;
                }
                
                if (listSortColumn !== 'date') {
                    return listSortAsc ? aVal.localeCompare(bVal) : bVal.localeCompare(aVal);
                }
            });
            
            sorted.forEach(event => {
                html += `
                    <tr style="border-bottom: 1px solid #3d4757; color: #e0e0e0; transition: background 0.2s;" onmouseover="this.style.background='#2a3240'" onmouseout="this.style.background='transparent'">
                        <td style="padding: 12px;">${event.Subject}</td>
                        <td style="padding: 12px;">${event['Start Date']}</td>
                        <td style="padding: 12px;">${event.Location}</td>
                        <td style="padding: 12px;"><span style="background: #FFCF56; color: #1E2530; padding: 2px 8px; border-radius: 12px; font-size: 0.85em;">${event.Description}</span></td>
                        <td style="padding: 12px;"><button onclick="openEventFromList('${event.id}')" style="background: #FFCF56; color: #1E2530; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600;">View</button></td>
                    </tr>
                `;
            });
            
            html += `</tbody></table>`;
            container.innerHTML = html;
        }

        function sortList(column) {
            if (listSortColumn === column) {
                listSortAsc = !listSortAsc;
            } else {
                listSortColumn = column;
                listSortAsc = true;
            }
            generateListView();
        }

        function openEventFromList(eventId) {
            const event = parsedEvents.find(e => e.id === eventId);
            if (event) {
                closeListModal();
                openEventModal(event);
            }
        }

        // Analytics Modal Functions
        function openAnalyticsModal() {
            document.getElementById('analyticsModal').classList.add('active');
            generateAnalytics();
        }

        function closeAnalyticsModal() {
            document.getElementById('analyticsModal').classList.remove('active');
        }

        function generateAnalytics() {
            const container = document.getElementById('analyticsView');
            
            // Count by venue
            const venueCount = {};
            const typeCount = {};
            const monthCount = {};
            
            parsedEvents.forEach(event => {
                venueCount[event.Location] = (venueCount[event.Location] || 0) + 1;
                typeCount[event.Description] = (typeCount[event.Description] || 0) + 1;
                const month = event.date.toLocaleDateString('en-US', { month: 'long' });
                monthCount[month] = (monthCount[month] || 0) + 1;
            });
            
            let html = '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">';
            
            // Venue breakdown
            html += '<div><h3 style="color: #FFCF56; margin-bottom: 15px;">üìç Events by Venue</h3>';
            Object.entries(venueCount).sort((a, b) => b[1] - a[1]).forEach(([venue, count]) => {
                const percentage = ((count / parsedEvents.length) * 100).toFixed(1);
                html += `
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px; color: #e0e0e0;">
                            <span style="font-size: 0.9em;">${venue}</span>
                            <span style="font-weight: 600;">${count} (${percentage}%)</span>
                        </div>
                        <div style="background: #3d4757; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="background: #FFCF56; height: 100%; width: ${percentage}%; transition: width 0.3s;"></div>
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            
            // Type breakdown
            html += '<div><h3 style="color: #FFCF56; margin-bottom: 15px;">üé≠ Events by Type</h3>';
            Object.entries(typeCount).sort((a, b) => b[1] - a[1]).slice(0, 5).forEach(([type, count]) => {
                const percentage = ((count / parsedEvents.length) * 100).toFixed(1);
                html += `
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px; color: #e0e0e0;">
                            <span style="font-size: 0.9em;">${type}</span>
                            <span style="font-weight: 600;">${count} (${percentage}%)</span>
                        </div>
                        <div style="background: #3d4757; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="background: #28a745; height: 100%; width: ${percentage}%; transition: width 0.3s;"></div>
                        </div>
                    </div>
                `;
            });
            html += '</div></div>';
            
            // Pie chart for venue distribution
            html += '<div style="margin-top: 30px;"><h3 style="color: #FFCF56; margin-bottom: 15px;">ü•ß Venue Distribution (Pie Chart)</h3>';
            html += '<div style="display: flex; justify-content: center; align-items: center; gap: 30px;">';
            
            // Generate pie chart
            const venueEntries = Object.entries(venueCount).sort((a, b) => b[1] - a[1]);
            const colors = ['#FFCF56', '#28a745', '#ff9800', '#667eea', '#dc3545'];
            let startAngle = 0;
            
            html += '<svg width="300" height="300" viewBox="0 0 200 200" style="transform: rotate(-90deg);">';
            
            venueEntries.forEach(([venue, count], idx) => {
                const percentage = count / parsedEvents.length;
                const angle = percentage * 360;
                const endAngle = startAngle + angle;
                
                const x1 = 100 + 90 * Math.cos((startAngle * Math.PI) / 180);
                const y1 = 100 + 90 * Math.sin((startAngle * Math.PI) / 180);
                const x2 = 100 + 90 * Math.cos((endAngle * Math.PI) / 180);
                const y2 = 100 + 90 * Math.sin((endAngle * Math.PI) / 180);
                
                const largeArc = angle > 180 ? 1 : 0;
                
                html += `
                    <path d="M 100 100 L ${x1} ${y1} A 90 90 0 ${largeArc} 1 ${x2} ${y2} Z" 
                          fill="${colors[idx % colors.length]}" 
                          stroke="#2a3240" 
                          stroke-width="2"/>
                `;
                
                startAngle = endAngle;
            });
            
            html += '<circle cx="100" cy="100" r="50" fill="#2a3240"/>';
            html += `<text x="100" y="105" text-anchor="middle" fill="#FFCF56" font-size="20" font-weight="bold" transform="rotate(90 100 100)">${parsedEvents.length}</text>`;
            html += '</svg>';
            
            // Legend
            html += '<div>';
            venueEntries.forEach(([venue, count], idx) => {
                const percentage = ((count / parsedEvents.length) * 100).toFixed(1);
                html += `
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 20px; height: 20px; background: ${colors[idx % colors.length]}; border-radius: 4px;"></div>
                        <span style="color: #e0e0e0; font-size: 0.9em;">${venue}: ${count} (${percentage}%)</span>
                    </div>
                `;
            });
            html += '</div></div></div>';
            
            // Monthly heatmap
            html += '<div style="margin-top: 30px;"><h3 style="color: #FFCF56; margin-bottom: 15px;">üìä Monthly Distribution</h3>';
            html += '<div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px;">';
            
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            const maxCount = Math.max(...Object.values(monthCount));
            
            months.forEach(month => {
                const count = monthCount[month] || 0;
                const intensity = count / maxCount;
                const bgColor = `rgba(255, 207, 86, ${0.2 + intensity * 0.8})`;
                
                html += `
                    <div style="background: ${bgColor}; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #3d4757;">
                        <div style="font-size: 0.8em; color: #e0e0e0; margin-bottom: 5px;">${month.substring(0, 3)}</div>
                        <div style="font-size: 1.3em; font-weight: 700; color: #1E2530;">${count}</div>
                    </div>
                `;
            });
            
            html += '</div></div>';
            
            // Total stats
            html += `
                <div style="margin-top: 30px; padding: 20px; background: #1E2530; border-radius: 12px; border: 2px solid #FFCF56;">
                    <h3 style="color: #FFCF56; margin-bottom: 15px;">üìà Summary Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;">
                        <div>
                            <div style="font-size: 2em; font-weight: 700; color: #FFCF56;">${parsedEvents.length}</div>
                            <div style="color: #999; font-size: 0.9em;">Total Events</div>
                        </div>
                        <div>
                            <div style="font-size: 2em; font-weight: 700; color: #28a745;">${Object.keys(venueCount).length}</div>
                            <div style="color: #999; font-size: 0.9em;">Venues</div>
                        </div>
                        <div>
                            <div style="font-size: 2em; font-weight: 700; color: #ff9800;">${Object.keys(typeCount).length}</div>
                            <div style="color: #999; font-size: 0.9em;">Event Types</div>
                        </div>
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
        }

        // List View Modal Functions  
        function openListModal() {
            document.getElementById('listModal').classList.add('active');
            generateListView();
        }

        function closeListModal() {
            document.getElementById('listModal').classList.remove('active');
        }

        // Export to Excel Function
        function exportToExcel() {
            let csv = 'Subject,Start Date,Start Time,Location,Type,Has Reminder,Has Comments,Young Ones Status\n';
            
            const reminders = getReminders();
            const comments = getComments();
            const youngOnesData = getYoungOnesData();
            
            parsedEvents.forEach(event => {
                const hasReminder = reminders[event.id] && reminders[event.id].length > 0 ? 'Yes' : 'No';
                const hasComments = comments[event.id] && comments[event.id].length > 0 ? 'Yes' : 'No';
                const youngOnesStatus = youngOnesData[event.id]?.completed ? 'Completed' : (youngOnesData[event.id]?.enabled ? 'Pending' : 'None');
                
                const row = [
                    `"${event.Subject}"`,
                    event['Start Date'],
                    event['Start Time'] || '',
                    `"${event.Location}"`,
                    event.Description,
                    hasReminder,
                    hasComments,
                    youngOnesStatus
                ].join(',');
                
                csv += row + '\n';
            });
            
            // Download CSV
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `parkbee-events-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            alert('‚úÖ Events exported to CSV successfully!');
        }

        // Close modals when clicking outside
        ['searchModal', 'timelineModal', 'listModal', 'analyticsModal'].forEach(modalId => {
            document.getElementById(modalId).addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Action dropdown handler
        function handleActionDropdown() {
            const dropdown = document.getElementById('actionsDropdown');
            const value = dropdown.value;
            
            if (value === 'multiselect') {
                toggleMultiSelectMode();
            } else if (value === 'reminders') {
                openRemindersModal();
            } else if (value === 'addevent') {
                openAddEventModal();
            } else if (value === 'search') {
                openSearchModal();
            } else if (value === 'timeline') {
                openTimelineModal();
            } else if (value === 'listview') {
                openListModal();
            } else if (value === 'analytics') {
                openAnalyticsModal();
            } else if (value === 'export') {
                exportToExcel();
            }
            
            // Reset dropdown
            dropdown.value = '';
        }

        // Delete event function
        function deleteEvent() {
            if (!selectedEvent) return;
            
            if (!confirm(`Are you sure you want to delete this event?\n\n${selectedEvent.Subject}\n${selectedEvent['Start Date']}`)) {
                return;
            }
            
            // Remove from parsed events
            const index = parsedEvents.findIndex(e => e.id === selectedEvent.id);
            if (index > -1) {
                parsedEvents.splice(index, 1);
            }
            
            // Remove from custom events if it's a custom event
            if (selectedEvent.isCustom) {
                const customEvents = getCustomEvents();
                const customIndex = customEvents.findIndex(e => e.id === selectedEvent.id);
                if (customIndex > -1) {
                    customEvents.splice(customIndex, 1);
                    localStorage.setItem('customEvents', JSON.stringify(customEvents));
                }
            }
            
            // Remove associated data
            const comments = getComments();
            delete comments[selectedEvent.id];
            localStorage.setItem('eventComments', JSON.stringify(comments));
            
            const reminders = getReminders();
            delete reminders[selectedEvent.id];
            localStorage.setItem('eventReminders', JSON.stringify(reminders));
            
            const youngOnesData = getYoungOnesData();
            delete youngOnesData[selectedEvent.id];
            localStorage.setItem('youngOnesData', JSON.stringify(youngOnesData));
            
            // Close modal and refresh
            closeModal();
            renderCalendar();
            alert('Event deleted successfully!');
        }

        // All Reminders Modal Functions
        function openRemindersModal() {
            const modal = document.getElementById('remindersModal');
            reminderFilter = 'all'; // Reset filter
            updateFilterButtons();
            populateAllReminders();
            modal.classList.add('active');
        }

        function closeRemindersModal() {
            document.getElementById('remindersModal').classList.remove('active');
        }

        function filterReminders(filter) {
            reminderFilter = filter;
            updateFilterButtons();
            populateAllReminders();
        }

        function updateFilterButtons() {
            // Reset all buttons
            ['filterAll', 'filterWeek', 'filterMonth', 'filterYear'].forEach(id => {
                const btn = document.getElementById(id);
                if (btn) {
                    btn.style.background = 'transparent';
                    btn.style.border = '2px solid #FFCF56';
                    btn.style.color = '#FFCF56';
                }
            });
            
            // Highlight active filter
            const activeBtn = document.getElementById('filter' + reminderFilter.charAt(0).toUpperCase() + reminderFilter.slice(1));
            if (activeBtn) {
                activeBtn.style.background = '#FFCF56';
                activeBtn.style.border = '2px solid #FFCF56';
                activeBtn.style.color = '#1E2530';
            }
        }

        function populateAllReminders() {
            const container = document.getElementById('allRemindersList');
            const reminders = getReminders();
            const youngOnesData = getYoungOnesData();
            const now = new Date();
            
            // Calculate filter date ranges
            const weekFromNow = new Date(now.getTime() + (7 * 24 * 60 * 60 * 1000));
            const monthFromNow = new Date(now.getFullYear(), now.getMonth() + 1, now.getDate());
            const yearFromNow = new Date(now.getFullYear() + 1, now.getMonth(), now.getDate());
            
            // Collect all reminders with event info and clean up past ones
            const allReminders = [];
            let cleanupNeeded = false;
            
            for (const eventId in reminders) {
                const event = parsedEvents.find(e => e.id === eventId);
                if (!event) continue;
                
                const eventReminders = reminders[eventId];
                const validReminders = [];
                
                eventReminders.forEach(reminder => {
                    const reminderDate = new Date(reminder.datetime);
                    const eventDate = event.date;
                    
                    // Check if event has passed
                    if (eventDate < now) {
                        // Event has passed - mark for deletion
                        cleanupNeeded = true;
                    } else {
                        validReminders.push(reminder);
                        
                        // Apply filter
                        let includeReminder = false;
                        if (reminderFilter === 'all') {
                            includeReminder = true;
                        } else if (reminderFilter === 'week') {
                            includeReminder = reminderDate >= now && reminderDate <= weekFromNow;
                        } else if (reminderFilter === 'month') {
                            includeReminder = reminderDate >= now && reminderDate <= monthFromNow;
                        } else if (reminderFilter === 'year') {
                            includeReminder = reminderDate >= now && reminderDate <= yearFromNow;
                        }
                        
                        if (includeReminder) {
                            allReminders.push({
                                event: event,
                                reminder: reminder,
                                completed: youngOnesData[eventId]?.completed || false
                            });
                        }
                    }
                });
                
                // Update reminders for this event (remove past ones)
                if (validReminders.length > 0) {
                    reminders[eventId] = validReminders;
                } else {
                    delete reminders[eventId];
                }
            }
            
            // Save cleaned up reminders
            if (cleanupNeeded) {
                localStorage.setItem('eventReminders', JSON.stringify(reminders));
                console.log('‚úÖ Cleaned up past event reminders');
            }
            
            // Sort by reminder date
            allReminders.sort((a, b) => {
                return new Date(a.reminder.datetime) - new Date(b.reminder.datetime);
            });
            
            if (allReminders.length === 0) {
                const filterText = reminderFilter === 'all' ? '' : ` for ${reminderFilter}`;
                container.innerHTML = `<div class="no-reminders">üìÖ No reminders${filterText}.<br><br>Click on any event to set a reminder!</div>`;
                return;
            }
            
            // Build HTML
            let html = '';
            allReminders.forEach(item => {
                const reminderDate = new Date(item.reminder.datetime);
                const isPast = reminderDate < now;
                const eventDate = item.event.date;
                
                const cardClass = isPast ? 'reminder-card past' : 'reminder-card';
                const badgeClass = item.completed ? 'reminder-badge completed' : 'reminder-badge';
                const badgeText = item.completed ? '‚úÖ Staff Arranged' : 'üéØ Pending';
                
                html += `
                    <div class="${cardClass}">
                        <div class="reminder-header">
                            <div class="reminder-date">
                                ‚è∞ ${reminderDate.toLocaleDateString()} at ${reminderDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                            </div>
                            <div class="${badgeClass}">${badgeText}</div>
                        </div>
                        <div class="reminder-event-title">${item.event.Subject}</div>
                        <div class="reminder-details">
                            üìç ${item.event.Location}<br>
                            üìÖ Event Date: ${item.event['Start Date']}<br>
                            ${item.reminder.type === '2-week-advance' ? 'üìÜ Type: 2 Weeks Before Event' : 'üìÜ Type: Custom Reminder'}
                        </div>
                        <div class="reminder-actions">
                            <button class="btn" onclick="openEventFromReminder('${item.event.id}')" style="font-size: 14px; padding: 8px 16px; margin-top: 0;">View Event</button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function openEventFromReminder(eventId) {
            const event = parsedEvents.find(e => e.id === eventId);
            if (event) {
                closeRemindersModal();
                openEventModal(event);
            }
        }
    </script>
</body>
</html>
